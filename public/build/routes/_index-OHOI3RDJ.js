import{b as N2,c as R,d as b,e as v1,f as J}from"/build/_shared/chunk-7AYXIRAC.js";var U3=N2(j3=>{"use strict";var J1=v1();function g8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u8=typeof Object.is=="function"?Object.is:g8,p8=J1.useState,z8=J1.useEffect,f8=J1.useLayoutEffect,m8=J1.useDebugValue;function x8(e,t){var c=t(),a=p8({inst:{value:c,getSnapshot:t}}),i=a[0].inst,r=a[1];return f8(function(){i.value=c,i.getSnapshot=t,k4(i)&&r({inst:i})},[e,c,t]),z8(function(){return k4(i)&&r({inst:i}),e(function(){k4(i)&&r({inst:i})})},[e]),m8(c),c}function k4(e){var t=e.getSnapshot;e=e.value;try{var c=t();return!u8(e,c)}catch{return!0}}function M8(e,t){return t()}var H8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M8:x8;j3.useSyncExternalStore=J1.useSyncExternalStore!==void 0?J1.useSyncExternalStore:H8});var q3=N2((mt,G3)=>{"use strict";G3.exports=U3()});var $3=N2(Y3=>{"use strict";var W2=v1(),C8=q3();function V8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w8=typeof Object.is=="function"?Object.is:V8,L8=C8.useSyncExternalStore,F8=W2.useRef,b8=W2.useEffect,B8=W2.useMemo,S8=W2.useDebugValue;Y3.useSyncExternalStoreWithSelector=function(e,t,c,a,i){var r=F8(null);if(r.current===null){var n={hasValue:!1,value:null};r.current=n}else n=r.current;r=B8(function(){function h(g){if(!s){if(s=!0,o=g,g=a(g),i!==void 0&&n.hasValue){var z=n.value;if(i(z,g))return d=z}return d=g}if(z=d,w8(o,g))return z;var u=a(g);return i!==void 0&&i(z,u)?(o=g,z):(o=g,d=u)}var s=!1,o,d,v=c===void 0?null:c;return[function(){return h(t())},v===null?void 0:function(){return h(v())}]},[t,c,a,i]);var l=L8(e,r[0],r[1]);return b8(function(){n.hasValue=!0,n.value=l},[l]),S8(l),l}});var K3=N2((Mt,X3)=>{"use strict";X3.exports=$3()});var d8=R(v1());var z2=R(v1());var N3=e=>{let t,c=new Set,a=(o,d)=>{let v=typeof o=="function"?o(t):o;if(!Object.is(v,t)){let g=t;t=d??(typeof v!="object"||v===null)?v:Object.assign({},t,v),c.forEach(z=>z(t,g))}},i=()=>t,h={setState:a,getState:i,getInitialState:()=>s,subscribe:o=>(c.add(o),()=>c.delete(o)),destroy:()=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),c.clear()}},s=t=e(a,i,h);return h},W3=e=>e?N3(e):N3;var t6=R(v1(),1),c6=R(K3(),1),{useDebugValue:y8}=t6.default,{useSyncExternalStoreWithSelector:A8}=c6.default,J3=!1,_8=e=>e;function k8(e,t=_8,c){(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&c&&!J3&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),J3=!0);let a=A8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,c);return y8(a),a}var Q3=e=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t=typeof e=="function"?W3(e):e,c=(a,i)=>k8(t,a,i);return Object.assign(c,t),c},e6=e=>e?Q3(e):Q3;var L1=class{constructor(t){this.id=t.id,this.title=t.title,this.category=t.category,this.completed=t.completed,this.repeatInterval=t.repeatInterval,this.lastCompleted=t.lastCompleted?new Date(t.lastCompleted):void 0,this.deadline=t.deadline?new Date(t.deadline):void 0}toggleCompleted(){this.completed=!this.completed,this.completed&&(this.lastCompleted=new Date)}shouldReset(){return!this.repeatInterval||!this.lastCompleted?!1:(new Date().getTime()-this.lastCompleted.getTime())/(1e3*60*60*24)>=this.repeatInterval}isOverdue(){return!!this.deadline&&new Date>this.deadline&&!this.completed}progress(){return this.completed?1:0}toJSON(){return{id:this.id,title:this.title,category:this.category,completed:this.completed,repeatInterval:this.repeatInterval,lastCompleted:this.lastCompleted?.toISOString(),deadline:this.deadline?.toISOString()}}};var U=[];for(j2=0;j2<256;++j2)U.push((j2+256).toString(16).slice(1));var j2;function a6(e,t=0){return(U[e[t+0]]+U[e[t+1]]+U[e[t+2]]+U[e[t+3]]+"-"+U[e[t+4]]+U[e[t+5]]+"-"+U[e[t+6]]+U[e[t+7]]+"-"+U[e[t+8]]+U[e[t+9]]+"-"+U[e[t+10]]+U[e[t+11]]+U[e[t+12]]+U[e[t+13]]+U[e[t+14]]+U[e[t+15]]).toLowerCase()}var U2,P8=new Uint8Array(16);function P4(){if(!U2&&(U2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!U2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U2(P8)}var D8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D4={randomUUID:D8};function R8(e,t,c){if(D4.randomUUID&&!t&&!e)return D4.randomUUID();e=e||{};var a=e.random||(e.rng||P4)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){c=c||0;for(var i=0;i<16;++i)t[c+i]=a[i];return t}return a6(a)}var R4=R8;function T4(e,t){let c;try{c=e()}catch{return}return{getItem:i=>{var r;let n=h=>h===null?null:JSON.parse(h,t?.reviver),l=(r=c.getItem(i))!=null?r:null;return l instanceof Promise?l.then(n):n(l)},setItem:(i,r)=>c.setItem(i,JSON.stringify(r,t?.replacer)),removeItem:i=>c.removeItem(i)}}var p2=e=>t=>{try{let c=e(t);return c instanceof Promise?c:{then(a){return p2(a)(c)},catch(a){return this}}}catch(c){return{then(a){return this},catch(a){return p2(a)(c)}}}},T8=(e,t)=>(c,a,i)=>{let r={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,f)=>({...f,...p}),...t},n=!1,l=new Set,h=new Set,s;try{s=r.getStorage()}catch{}if(!s)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),c(...p)},a,i);let o=p2(r.serialize),d=()=>{let p=r.partialize({...a()}),f,m=o({state:p,version:r.version}).then(x=>s.setItem(r.name,x)).catch(x=>{f=x});if(f)throw f;return m},v=i.setState;i.setState=(p,f)=>{v(p,f),d()};let g=e((...p)=>{c(...p),d()},a,i),z,u=()=>{var p;if(!s)return;n=!1,l.forEach(m=>m(a()));let f=((p=r.onRehydrateStorage)==null?void 0:p.call(r,a()))||void 0;return p2(s.getItem.bind(s))(r.name).then(m=>{if(m)return r.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==r.version){if(r.migrate)return r.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var x;return z=r.merge(m,(x=a())!=null?x:g),c(z,!0),d()}).then(()=>{f?.(z,void 0),n=!0,h.forEach(m=>m(z))}).catch(m=>{f?.(void 0,m)})};return i.persist={setOptions:p=>{r={...r,...p},p.getStorage&&(s=p.getStorage())},clearStorage:()=>{s?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>u(),hasHydrated:()=>n,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(h.add(p),()=>{h.delete(p)})},u(),z||g},O8=(e,t)=>(c,a,i)=>{let r={storage:T4(()=>localStorage),partialize:u=>u,version:0,merge:(u,p)=>({...p,...u}),...t},n=!1,l=new Set,h=new Set,s=r.storage;if(!s)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),c(...u)},a,i);let o=()=>{let u=r.partialize({...a()});return s.setItem(r.name,{state:u,version:r.version})},d=i.setState;i.setState=(u,p)=>{d(u,p),o()};let v=e((...u)=>{c(...u),o()},a,i);i.getInitialState=()=>v;let g,z=()=>{var u,p;if(!s)return;n=!1,l.forEach(m=>{var x;return m((x=a())!=null?x:v)});let f=((p=r.onRehydrateStorage)==null?void 0:p.call(r,(u=a())!=null?u:v))||void 0;return p2(s.getItem.bind(s))(r.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==r.version){if(r.migrate)return[!0,r.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var x;let[H,M]=m;if(g=r.merge(M,(x=a())!=null?x:v),c(g,!0),H)return o()}).then(()=>{f?.(g,void 0),g=a(),n=!0,h.forEach(m=>m(g))}).catch(m=>{f?.(void 0,m)})};return i.persist={setOptions:u=>{r={...r,...u},u.storage&&(s=u.storage)},clearStorage:()=>{s?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>z(),hasHydrated:()=>n,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(h.add(u),()=>{h.delete(u)})},r.skipHydration||z(),g||v},E8=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),T8(e,t)):O8(e,t),i6=E8;var G=e6(i6(e=>({goals:[],addGoal:(t,c,a,i)=>e(r=>({goals:[...r.goals,new L1({id:R4(),title:t,category:c,completed:!1,repeatInterval:a,deadline:i})]})),toggleGoal:t=>e(c=>({goals:c.goals.map(a=>{if(a.id===t){let i=new L1(a.toJSON());return i.toggleCompleted(),i}return a})})),deleteGoal:t=>e(c=>({goals:c.goals.filter(a=>a.id!==t)})),resetRepeatingGoals:()=>e(t=>({goals:t.goals.map(c=>c.shouldReset()?new L1({...c.toJSON(),completed:!1}):c)})),importGoals:t=>e(()=>({goals:t.map(c=>new L1(c))})),updateDeadline:(t,c)=>e(a=>({goals:a.goals.map(i=>i.id===t?new L1({...i.toJSON(),deadline:c}):i)}))}),{name:"goals-storage",storage:typeof window<"u"?T4(()=>localStorage):void 0}));var E=R(J());function O4(){let[e,t]=(0,z2.useState)(""),[c,a]=(0,z2.useState)("General"),[i,r]=(0,z2.useState)(""),[n,l]=(0,z2.useState)(""),h=G(o=>o.addGoal);return(0,E.jsxs)("form",{onSubmit:o=>{o.preventDefault(),e.trim()&&(h(e,c,i?parseInt(i,10):void 0,n||void 0),t(""),r(""),l(""))},className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg space-y-4",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Goal Title"}),(0,E.jsx)("input",{type:"text",value:e,onChange:o=>t(o.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),(0,E.jsxs)("select",{value:c,onChange:o=>a(o.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,E.jsx)("option",{children:"General"}),(0,E.jsx)("option",{children:"Math"}),(0,E.jsx)("option",{children:"Biology"}),(0,E.jsx)("option",{children:"English"})]})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Repeat Every (days, optional)"}),(0,E.jsx)("input",{type:"number",value:i,onChange:o=>r(o.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"1"})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Deadline (YYYY-MM-DD, optional)"}),(0,E.jsx)("input",{type:"date",value:n,onChange:o=>l(o.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,E.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white p-2 rounded-md shadow-md hover:bg-indigo-700 transition-transform transform hover:scale-105",children:"Add Goal"})]})}var Q1=R(J());function E4({goals:e}){let t=e.length>0?e.reduce((a,i)=>a+i.progress(),0)/e.length*100:0,c=t>=75?"bg-green-500":t>=25?"bg-yellow-500":"bg-red-500";return(0,Q1.jsxs)("div",{className:"mt-4",children:[(0,Q1.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-6 overflow-hidden",children:(0,Q1.jsx)("div",{className:`h-full ${c} rounded-full transition-all duration-300`,style:{width:`${t}%`}})}),(0,Q1.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mt-2",children:[t.toFixed(0),"% Complete"]})]})}var t2=R(v1(),1);var I4=R(v1(),1),Z4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N4=I4.default.createContext&&I4.default.createContext(Z4);var I8=["attr","size","title"];function Z8(e,t){if(e==null)return{};var c=N8(e,t),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function N8(e,t){if(e==null)return{};var c={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;c[a]=e[a]}return c}function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])}return e},G2.apply(this,arguments)}function r6(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),c.push.apply(c,a)}return c}function q2(e){for(var t=1;t<arguments.length;t++){var c=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(c),!0).forEach(function(a){W8(e,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):r6(Object(c)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(c,a))})}return e}function W8(e,t,c){return t=j8(t),t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function j8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var a=c.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6(e){return e&&e.map((t,c)=>t2.default.createElement(t.tag,q2({key:c},t.attr),n6(t.child)))}function f2(e){return t=>t2.default.createElement(G8,G2({attr:q2({},e.attr)},t),n6(e.child))}function G8(e){var t=c=>{var{attr:a,size:i,title:r}=e,n=Z8(e,I8),l=i||c.size||"1em",h;return c.className&&(h=c.className),e.className&&(h=(h?h+" ":"")+e.className),t2.default.createElement("svg",G2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,a,n,{className:h,style:q2(q2({color:e.color||c.color},c.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&t2.default.createElement("title",null,r),e.children)};return N4!==void 0?t2.default.createElement(N4.Consumer,null,c=>t(c)):t(Z4)}function l6(e){return f2({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function h6(e){return f2({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function s6(e){return f2({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function o6(e){return f2({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}var N=R(J());function W4(){let e=G(n=>n.goals),t=G(n=>n.toggleGoal),c=G(n=>n.deleteGoal),a=G(n=>n.updateDeadline),r=Array.from(new Set(e.map(n=>n.category))).map(n=>({category:n,goals:e.filter(l=>l.category===n)}));return(0,N.jsx)("div",{className:"space-y-6 mt-6",children:r.length===0?(0,N.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 italic",children:"No goals added yet. Add a goal to get started!"}):r.map(({category:n,goals:l})=>(0,N.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-5 transition-all duration-300 hover:shadow-xl",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4 border-b-2 border-indigo-200 dark:border-indigo-800 pb-2",children:n}),(0,N.jsx)(E4,{goals:l}),(0,N.jsx)("ul",{className:"space-y-3 mt-4",children:l.map(h=>(0,N.jsxs)("li",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${h.isOverdue()?"bg-red-100 dark:bg-red-900":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",{type:"checkbox",checked:h.completed||!1,onChange:()=>t(h.id),className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 rounded cursor-pointer","aria-label":`Mark ${h.title} as completed`}),(0,N.jsxs)("span",{className:h.completed?"line-through text-gray-500 dark:text-gray-400":"text-gray-800 dark:text-gray-200",children:[h.title,h.repeatInterval&&(0,N.jsxs)("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(Every ",h.repeatInterval," day",h.repeatInterval>1?"s":"",")"]}),h.deadline&&(0,N.jsxs)("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,N.jsx)(l6,{className:h.isOverdue()?"text-red-500":""})," ",h.deadline.toLocaleDateString()]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{onClick:()=>c(h.id),className:"text-red-500 hover:text-red-700 transition-colors duration-200 mr-2","aria-label":`Delete goal: ${h.title}`,children:(0,N.jsx)(o6,{size:16})}),(0,N.jsx)("input",{type:"date",defaultValue:h.deadline?.toISOString().split("T")[0],onChange:s=>a(h.id,s.target.value),className:"p-1 rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]},h.id))})]},n))})}var $2=R(v1());var Y2=R(J());function j4(){let[e,t]=(0,$2.useState)(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":!0);return(0,$2.useEffect)(()=>{typeof window<"u"&&(e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")))},[e]),(0,Y2.jsx)("button",{onClick:()=>t(!e),className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full shadow-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-200 transform hover:scale-110",children:e?(0,Y2.jsx)(s6,{className:"text-yellow-400",size:20}):(0,Y2.jsx)(h6,{className:"text-blue-400",size:20})})}var Q=R(J());function U4(){let e=G(i=>i.goals),t=e.filter(i=>i.completed).length,c=e.filter(i=>i.isOverdue()).length,a=e.length;return(0,Q.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg mt-6",children:[(0,Q.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Dashboard"}),(0,Q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Q.jsxs)("div",{className:"p-4 bg-green-100 dark:bg-green-900 rounded-lg",children:[(0,Q.jsx)("h3",{className:"text-lg font-semibold",children:"Completed"}),(0,Q.jsx)("p",{className:"text-2xl",children:t})]}),(0,Q.jsxs)("div",{className:"p-4 bg-red-100 dark:bg-red-900 rounded-lg",children:[(0,Q.jsx)("h3",{className:"text-lg font-semibold",children:"Overdue"}),(0,Q.jsx)("p",{className:"text-2xl",children:c})]}),(0,Q.jsxs)("div",{className:"p-4 bg-blue-100 dark:bg-blue-900 rounded-lg",children:[(0,Q.jsx)("h3",{className:"text-lg font-semibold",children:"Total"}),(0,Q.jsx)("p",{className:"text-2xl",children:a})]})]})]})}function x2(e){return e+.5|0}var F1=(e,t,c)=>Math.max(Math.min(e,c),t);function m2(e){return F1(x2(e*2.55),0,255)}function b1(e){return F1(x2(e*255),0,255)}function f1(e){return F1(x2(e/2.55)/100,0,1)}function d6(e){return F1(x2(e*100),0,100)}var n1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q4=[..."0123456789ABCDEF"],q8=e=>q4[e&15],Y8=e=>q4[(e&240)>>4]+q4[e&15],X2=e=>(e&240)>>4===(e&15),$8=e=>X2(e.r)&&X2(e.g)&&X2(e.b)&&X2(e.a);function X8(e){var t=e.length,c;return e[0]==="#"&&(t===4||t===5?c={r:255&n1[e[1]]*17,g:255&n1[e[2]]*17,b:255&n1[e[3]]*17,a:t===5?n1[e[4]]*17:255}:(t===7||t===9)&&(c={r:n1[e[1]]<<4|n1[e[2]],g:n1[e[3]]<<4|n1[e[4]],b:n1[e[5]]<<4|n1[e[6]],a:t===9?n1[e[7]]<<4|n1[e[8]]:255})),c}var K8=(e,t)=>e<255?t(e):"";function J8(e){var t=$8(e)?q8:Y8;return e?"#"+t(e.r)+t(e.g)+t(e.b)+K8(e.a,t):void 0}var Q8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p6(e,t,c){let a=t*Math.min(c,1-c),i=(r,n=(r+e/30)%12)=>c-a*Math.max(Math.min(n-3,9-n,1),-1);return[i(0),i(8),i(4)]}function t5(e,t,c){let a=(i,r=(i+e/60)%6)=>c-c*t*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function c5(e,t,c){let a=p6(e,1,.5),i;for(t+c>1&&(i=1/(t+c),t*=i,c*=i),i=0;i<3;i++)a[i]*=1-t-c,a[i]+=t;return a}function e5(e,t,c,a,i){return e===i?(t-c)/a+(t<c?6:0):t===i?(c-e)/a+2:(e-t)/a+4}function Y4(e){let c=e.r/255,a=e.g/255,i=e.b/255,r=Math.max(c,a,i),n=Math.min(c,a,i),l=(r+n)/2,h,s,o;return r!==n&&(o=r-n,s=l>.5?o/(2-r-n):o/(r+n),h=e5(c,a,i,o,r),h=h*60+.5),[h|0,s||0,l]}function $4(e,t,c,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,c,a)).map(b1)}function X4(e,t,c){return $4(p6,e,t,c)}function a5(e,t,c){return $4(c5,e,t,c)}function i5(e,t,c){return $4(t5,e,t,c)}function z6(e){return(e%360+360)%360}function r5(e){let t=Q8.exec(e),c=255,a;if(!t)return;t[5]!==a&&(c=t[6]?m2(+t[5]):b1(+t[5]));let i=z6(+t[2]),r=+t[3]/100,n=+t[4]/100;return t[1]==="hwb"?a=a5(i,r,n):t[1]==="hsv"?a=i5(i,r,n):a=X4(i,r,n),{r:a[0],g:a[1],b:a[2],a:c}}function n5(e,t){var c=Y4(e);c[0]=z6(c[0]+t),c=X4(c),e.r=c[0],e.g=c[1],e.b=c[2]}function l5(e){if(!e)return;let t=Y4(e),c=t[0],a=d6(t[1]),i=d6(t[2]);return e.a<255?`hsla(${c}, ${a}%, ${i}%, ${f1(e.a)})`:`hsl(${c}, ${a}%, ${i}%)`}var v6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},g6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function h5(){let e={},t=Object.keys(g6),c=Object.keys(v6),a,i,r,n,l;for(a=0;a<t.length;a++){for(n=l=t[a],i=0;i<c.length;i++)r=c[i],l=l.replace(r,v6[r]);r=parseInt(g6[n],16),e[l]=[r>>16&255,r>>8&255,r&255]}return e}var K2;function s5(e){K2||(K2=h5(),K2.transparent=[0,0,0,0]);let t=K2[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var o5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function d5(e){let t=o5.exec(e),c=255,a,i,r;if(t){if(t[7]!==a){let n=+t[7];c=t[8]?m2(n):F1(n*255,0,255)}return a=+t[1],i=+t[3],r=+t[5],a=255&(t[2]?m2(a):F1(a,0,255)),i=255&(t[4]?m2(i):F1(i,0,255)),r=255&(t[6]?m2(r):F1(r,0,255)),{r:a,g:i,b:r,a:c}}}function v5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${f1(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var G4=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,c2=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function g5(e,t,c){let a=c2(f1(e.r)),i=c2(f1(e.g)),r=c2(f1(e.b));return{r:b1(G4(a+c*(c2(f1(t.r))-a))),g:b1(G4(i+c*(c2(f1(t.g))-i))),b:b1(G4(r+c*(c2(f1(t.b))-r))),a:e.a+c*(t.a-e.a)}}function J2(e,t,c){if(e){let a=Y4(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*c,t===0?360:1)),a=X4(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function f6(e,t){return e&&Object.assign(t||{},e)}function u6(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=b1(e[3]))):(t=f6(e,{r:0,g:0,b:0,a:1}),t.a=b1(t.a)),t}function u5(e){return e.charAt(0)==="r"?d5(e):r5(e)}var B1=class{constructor(t){if(t instanceof B1)return t;let c=typeof t,a;c==="object"?a=u6(t):c==="string"&&(a=X8(t)||s5(t)||u5(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=f6(this._rgb);return t&&(t.a=f1(t.a)),t}set rgb(t){this._rgb=u6(t)}rgbString(){return this._valid?v5(this._rgb):void 0}hexString(){return this._valid?J8(this._rgb):void 0}hslString(){return this._valid?l5(this._rgb):void 0}mix(t,c){if(t){let a=this.rgb,i=t.rgb,r,n=c===r?.5:c,l=2*n-1,h=a.a-i.a,s=((l*h===-1?l:(l+h)/(1+l*h))+1)/2;r=1-s,a.r=255&s*a.r+r*i.r+.5,a.g=255&s*a.g+r*i.g+.5,a.b=255&s*a.b+r*i.b+.5,a.a=n*a.a+(1-n)*i.a,this.rgb=a}return this}interpolate(t,c){return t&&(this._rgb=g5(this._rgb,t._rgb,c)),this}clone(){return new B1(this.rgb)}alpha(t){return this._rgb.a=b1(t),this}clearer(t){let c=this._rgb;return c.a*=1-t,this}greyscale(){let t=this._rgb,c=x2(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=c,this}opaquer(t){let c=this._rgb;return c.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return J2(this._rgb,2,t),this}darken(t){return J2(this._rgb,2,-t),this}saturate(t){return J2(this._rgb,1,t),this}desaturate(t){return J2(this._rgb,1,-t),this}rotate(t){return n5(this._rgb,t),this}};function g1(){}var L6=(()=>{let e=0;return()=>e++})();function y(e){return e==null}function D(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function B(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function W(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function c1(e,t){return W(e)?e:t}function S(e,t){return typeof e>"u"?t:e}var F6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function P(e,t,c){if(e&&typeof e.call=="function")return e.apply(c,t)}function _(e,t,c,a){let i,r,n;if(D(e))if(r=e.length,a)for(i=r-1;i>=0;i--)t.call(c,e[i],i);else for(i=0;i<r;i++)t.call(c,e[i],i);else if(B(e))for(n=Object.keys(e),r=n.length,i=0;i<r;i++)t.call(c,e[n[i]],n[i])}function C2(e,t){let c,a,i,r;if(!e||!t||e.length!==t.length)return!1;for(c=0,a=e.length;c<a;++c)if(i=e[c],r=t[c],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function e4(e){if(D(e))return e.map(e4);if(B(e)){let t=Object.create(null),c=Object.keys(e),a=c.length,i=0;for(;i<a;++i)t[c[i]]=e4(e[c[i]]);return t}return e}function b6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function p5(e,t,c,a){if(!b6(e))return;let i=t[e],r=c[e];B(i)&&B(r)?a2(i,r,a):t[e]=e4(r)}function a2(e,t,c){let a=D(t)?t:[t],i=a.length;if(!B(e))return e;c=c||{};let r=c.merger||p5,n;for(let l=0;l<i;++l){if(n=a[l],!B(n))continue;let h=Object.keys(n);for(let s=0,o=h.length;s<o;++s)r(h[s],e,n,c)}return e}function i2(e,t){return a2(e,t,{merger:z5})}function z5(e,t,c){if(!b6(e))return;let a=t[e],i=c[e];B(a)&&B(i)?i2(a,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=e4(i))}var m6={"":e=>e,x:e=>e.x,y:e=>e.y};function f5(e){let t=e.split("."),c=[],a="";for(let i of t)a+=i,a.endsWith("\\")?a=a.slice(0,-1)+".":(c.push(a),a="");return c}function m5(e){let t=f5(e);return c=>{for(let a of t){if(a==="")break;c=c&&c[a]}return c}}function Z1(e,t){return(m6[t]||(m6[t]=m5(t)))(e)}function r4(e){return e.charAt(0).toUpperCase()+e.slice(1)}var r2=e=>typeof e<"u",m1=e=>typeof e=="function",t3=(e,t)=>{if(e.size!==t.size)return!1;for(let c of e)if(!t.has(c))return!1;return!0};function B6(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var I=Math.PI,l1=2*I,oc=l1+I,a4=Number.POSITIVE_INFINITY,x5=I/180,t1=I/2,O1=I/4,x6=I*2/3,x1=Math.log10,M1=Math.sign;function V2(e,t,c){return Math.abs(e-t)<c}function c3(e){let t=Math.round(e);e=V2(e,t,e/1e3)?t:e;let c=Math.pow(10,Math.floor(x1(e))),a=e/c;return(a<=1?1:a<=2?2:a<=5?5:10)*c}function S6(e){let t=[],c=Math.sqrt(e),a;for(a=1;a<c;a++)e%a===0&&(t.push(a),t.push(e/a));return c===(c|0)&&t.push(c),t.sort((i,r)=>i-r).pop(),t}function M5(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function w2(e){return!M5(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function y6(e,t){let c=Math.round(e);return c-t<=e&&c+t>=e}function e3(e,t,c){let a,i,r;for(a=0,i=e.length;a<i;a++)r=e[a][c],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function H1(e){return e*(I/180)}function n4(e){return e*(180/I)}function a3(e){if(!W(e))return;let t=1,c=0;for(;Math.round(e*t)/t!==e;)t*=10,c++;return c}function A6(e,t){let c=t.x-e.x,a=t.y-e.y,i=Math.sqrt(c*c+a*a),r=Math.atan2(a,c);return r<-.5*I&&(r+=l1),{angle:r,distance:i}}function _6(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function o1(e){return(e%l1+l1)%l1}function k6(e,t,c,a){let i=o1(e),r=o1(t),n=o1(c),l=o1(r-i),h=o1(n-i),s=o1(i-r),o=o1(i-n);return i===r||i===n||a&&r===n||l>h&&s<o}function h1(e,t,c){return Math.max(t,Math.min(c,e))}function P6(e){return h1(e,-32768,32767)}function N1(e,t,c,a=1e-6){return e>=Math.min(t,c)-a&&e<=Math.max(t,c)+a}function l4(e,t,c){c=c||(n=>e[n]<t);let a=e.length-1,i=0,r;for(;a-i>1;)r=i+a>>1,c(r)?i=r:a=r;return{lo:i,hi:a}}var h4=(e,t,c,a)=>l4(e,c,a?i=>{let r=e[i][t];return r<c||r===c&&e[i+1][t]===c}:i=>e[i][t]<c),D6=(e,t,c)=>l4(e,c,a=>e[a][t]>=c);function R6(e,t,c){let a=0,i=e.length;for(;a<i&&e[a]<t;)a++;for(;i>a&&e[i-1]>c;)i--;return a>0||i<e.length?e.slice(a,i):e}var T6=["push","pop","shift","splice","unshift"];function O6(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),T6.forEach(c=>{let a="_onData"+r4(c),i=e[c];Object.defineProperty(e,c,{configurable:!0,enumerable:!1,value(...r){let n=i.apply(this,r);return e._chartjs.listeners.forEach(l=>{typeof l[a]=="function"&&l[a](...r)}),n}})})}function i3(e,t){let c=e._chartjs;if(!c)return;let a=c.listeners,i=a.indexOf(t);i!==-1&&a.splice(i,1),!(a.length>0)&&(T6.forEach(r=>{delete e[r]}),delete e._chartjs)}function r3(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}var n3=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function l3(e,t){let c=[],a=!1;return function(...i){c=i,a||(a=!0,n3.call(window,()=>{a=!1,e.apply(t,c)}))}}function E6(e,t){let c;return function(...a){return t?(clearTimeout(c),c=setTimeout(e,t,a)):e.apply(this,a),t}}var s4=e=>e==="start"?"left":e==="end"?"right":"center",q=(e,t,c)=>e==="start"?t:e==="end"?c:(t+c)/2,I6=(e,t,c,a)=>e===(a?"left":"right")?c:e==="center"?(t+c)/2:t;var Q2=e=>e===0||e===1,M6=(e,t,c)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*l1/c)),H6=(e,t,c)=>Math.pow(2,-10*e)*Math.sin((e-t)*l1/c)+1,e2={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*t1)+1,easeOutSine:e=>Math.sin(e*t1),easeInOutSine:e=>-.5*(Math.cos(I*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Q2(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Q2(e)?e:M6(e,.075,.3),easeOutElastic:e=>Q2(e)?e:H6(e,.075,.3),easeInOutElastic(e){return Q2(e)?e:e<.5?.5*M6(e*2,.1125,.45):.5+.5*H6(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-e2.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?e2.easeInBounce(e*2)*.5:e2.easeOutBounce(e*2-1)*.5+.5};function Z6(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function h3(e){return Z6(e)?e:new B1(e)}function K4(e){return Z6(e)?e:new B1(e).saturate(.5).darken(.1).hexString()}var H5=["x","y","borderWidth","radius","tension"],C5=["color","borderColor","backgroundColor"];function V5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:C5},numbers:{type:"number",properties:H5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function w5(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var C6=new Map;function L5(e,t){t=t||{};let c=e+JSON.stringify(t),a=C6.get(c);return a||(a=new Intl.NumberFormat(e,t),C6.set(c,a)),a}function o4(e,t,c){return L5(t,c).format(e)}var N6={values(e){return D(e)?e:""+e},numeric(e,t,c){if(e===0)return"0";let a=this.chart.options.locale,i,r=e;if(c.length>1){let s=Math.max(Math.abs(c[0].value),Math.abs(c[c.length-1].value));(s<1e-4||s>1e15)&&(i="scientific"),r=F5(e,c)}let n=x1(Math.abs(r)),l=isNaN(n)?1:Math.max(Math.min(-1*Math.floor(n),20),0),h={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(h,this.options.ticks.format),o4(e,a,h)},logarithmic(e,t,c){if(e===0)return"0";let a=c[t].significand||e/Math.pow(10,Math.floor(x1(e)));return[1,2,3,5,10,15].includes(a)||t>.8*c.length?N6.numeric.call(this,e,t,c):""}};function F5(e,t){let c=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(c)>=1&&e!==Math.floor(e)&&(c=e-Math.floor(e)),c}var L2={formatters:N6};function b5(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,c)=>c.lineWidth,tickColor:(t,c)=>c.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:L2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var S1=Object.create(null),d4=Object.create(null);function M2(e,t){if(!t)return e;let c=t.split(".");for(let a=0,i=c.length;a<i;++a){let r=c[a];e=e[r]||(e[r]=Object.create(null))}return e}function J4(e,t,c){return typeof t=="string"?a2(M2(e,t),c):a2(M2(e,""),t)}var Q4=class{constructor(t,c){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,i)=>K4(i.backgroundColor),this.hoverBorderColor=(a,i)=>K4(i.borderColor),this.hoverColor=(a,i)=>K4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(c)}set(t,c){return J4(this,t,c)}get(t){return M2(this,t)}describe(t,c){return J4(d4,t,c)}override(t,c){return J4(S1,t,c)}route(t,c,a,i){let r=M2(this,t),n=M2(this,a),l="_"+c;Object.defineProperties(r,{[l]:{value:r[c],writable:!0},[c]:{enumerable:!0,get(){let h=this[l],s=n[i];return B(h)?Object.assign({},s,h):S(h,s)},set(h){this[l]=h}}})}apply(t){t.forEach(c=>c(this))}},T=new Q4({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[V5,w5,b5]);function B5(e){return!e||y(e.size)||y(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function H2(e,t,c,a,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,c.push(i)),r>a&&(a=r),a}function W6(e,t,c,a){a=a||{};let i=a.data=a.data||{},r=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(i=a.data={},r=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let n=0,l=c.length,h,s,o,d,v;for(h=0;h<l;h++)if(d=c[h],d!=null&&!D(d))n=H2(e,i,r,n,d);else if(D(d))for(s=0,o=d.length;s<o;s++)v=d[s],v!=null&&!D(v)&&(n=H2(e,i,r,n,v));e.restore();let g=r.length/2;if(g>c.length){for(h=0;h<g;h++)delete i[r[h]];r.splice(0,g)}return n}function y1(e,t,c){let a=e.currentDevicePixelRatio,i=c!==0?Math.max(c/2,.5):0;return Math.round((t-i)*a)/a+i}function s3(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function o3(e,t,c,a){d3(e,t,c,a,null)}function d3(e,t,c,a,i){let r,n,l,h,s,o,d,v,g=t.pointStyle,z=t.rotation,u=t.radius,p=(z||0)*x5;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(c,a),e.rotate(p),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(u)||u<=0)){switch(e.beginPath(),g){default:i?e.ellipse(c,a,i/2,u,0,0,l1):e.arc(c,a,u,0,l1),e.closePath();break;case"triangle":o=i?i/2:u,e.moveTo(c+Math.sin(p)*o,a-Math.cos(p)*u),p+=x6,e.lineTo(c+Math.sin(p)*o,a-Math.cos(p)*u),p+=x6,e.lineTo(c+Math.sin(p)*o,a-Math.cos(p)*u),e.closePath();break;case"rectRounded":s=u*.516,h=u-s,n=Math.cos(p+O1)*h,d=Math.cos(p+O1)*(i?i/2-s:h),l=Math.sin(p+O1)*h,v=Math.sin(p+O1)*(i?i/2-s:h),e.arc(c-d,a-l,s,p-I,p-t1),e.arc(c+v,a-n,s,p-t1,p),e.arc(c+d,a+l,s,p,p+t1),e.arc(c-v,a+n,s,p+t1,p+I),e.closePath();break;case"rect":if(!z){h=Math.SQRT1_2*u,o=i?i/2:h,e.rect(c-o,a-h,2*o,2*h);break}p+=O1;case"rectRot":d=Math.cos(p)*(i?i/2:u),n=Math.cos(p)*u,l=Math.sin(p)*u,v=Math.sin(p)*(i?i/2:u),e.moveTo(c-d,a-l),e.lineTo(c+v,a-n),e.lineTo(c+d,a+l),e.lineTo(c-v,a+n),e.closePath();break;case"crossRot":p+=O1;case"cross":d=Math.cos(p)*(i?i/2:u),n=Math.cos(p)*u,l=Math.sin(p)*u,v=Math.sin(p)*(i?i/2:u),e.moveTo(c-d,a-l),e.lineTo(c+d,a+l),e.moveTo(c+v,a-n),e.lineTo(c-v,a+n);break;case"star":d=Math.cos(p)*(i?i/2:u),n=Math.cos(p)*u,l=Math.sin(p)*u,v=Math.sin(p)*(i?i/2:u),e.moveTo(c-d,a-l),e.lineTo(c+d,a+l),e.moveTo(c+v,a-n),e.lineTo(c-v,a+n),p+=O1,d=Math.cos(p)*(i?i/2:u),n=Math.cos(p)*u,l=Math.sin(p)*u,v=Math.sin(p)*(i?i/2:u),e.moveTo(c-d,a-l),e.lineTo(c+d,a+l),e.moveTo(c+v,a-n),e.lineTo(c-v,a+n);break;case"line":n=i?i/2:Math.cos(p)*u,l=Math.sin(p)*u,e.moveTo(c-n,a-l),e.lineTo(c+n,a+l);break;case"dash":e.moveTo(c,a),e.lineTo(c+Math.cos(p)*(i?i/2:u),a+Math.sin(p)*u);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function W1(e,t,c){return c=c||.5,!t||e&&e.x>t.left-c&&e.x<t.right+c&&e.y>t.top-c&&e.y<t.bottom+c}function v4(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function g4(e){e.restore()}function S5(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),y(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function y5(e,t,c,a,i){if(i.strikethrough||i.underline){let r=e.measureText(a),n=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,h=c-r.actualBoundingBoxAscent,s=c+r.actualBoundingBoxDescent,o=i.strikethrough?(h+s)/2:s;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(n,o),e.lineTo(l,o),e.stroke()}}function A5(e,t){let c=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=c}function A1(e,t,c,a,i,r={}){let n=D(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="",h,s;for(e.save(),e.font=i.string,S5(e,r),h=0;h<n.length;++h)s=n[h],r.backdrop&&A5(e,r.backdrop),l&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),y(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(s,c,a,r.maxWidth)),e.fillText(s,c,a,r.maxWidth),y5(e,c,a,s,r),a+=Number(i.lineHeight);e.restore()}function n2(e,t){let{x:c,y:a,w:i,h:r,radius:n}=t;e.arc(c+n.topLeft,a+n.topLeft,n.topLeft,1.5*I,I,!0),e.lineTo(c,a+r-n.bottomLeft),e.arc(c+n.bottomLeft,a+r-n.bottomLeft,n.bottomLeft,I,t1,!0),e.lineTo(c+i-n.bottomRight,a+r),e.arc(c+i-n.bottomRight,a+r-n.bottomRight,n.bottomRight,t1,0,!0),e.lineTo(c+i,a+n.topRight),e.arc(c+i-n.topRight,a+n.topRight,n.topRight,0,-t1,!0),e.lineTo(c+n.topLeft,a)}var _5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function P5(e,t){let c=(""+e).match(_5);if(!c||c[1]==="normal")return t*1.2;switch(e=+c[2],c[3]){case"px":return e;case"%":e/=100;break}return t*e}var D5=e=>+e||0;function v3(e,t){let c={},a=B(t),i=a?Object.keys(t):t,r=B(e)?a?n=>S(e[n],e[t[n]]):n=>e[n]:()=>e;for(let n of i)c[n]=D5(r(n));return c}function g3(e){return v3(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _1(e){return v3(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Y(e){let t=g3(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Z(e,t){e=e||{},t=t||T.font;let c=S(e.size,t.size);typeof c=="string"&&(c=parseInt(c,10));let a=S(e.style,t.style);a&&!(""+a).match(k5)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);let i={family:S(e.family,t.family),lineHeight:P5(S(e.lineHeight,t.lineHeight),c),size:c,style:a,weight:S(e.weight,t.weight),string:""};return i.string=B5(i),i}function F2(e,t,c,a){let i=!0,r,n,l;for(r=0,n=e.length;r<n;++r)if(l=e[r],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),i=!1),c!==void 0&&D(l)&&(l=l[c%l.length],i=!1),l!==void 0))return a&&!i&&(a.cacheable=!1),l}function j6(e,t,c){let{min:a,max:i}=e,r=F6(t,(i-a)/2),n=(l,h)=>c&&l===0?0:l+h;return{min:n(a,-Math.abs(r)),max:n(i,r)}}function k1(e,t){return Object.assign(Object.create(e),t)}function u4(e,t=[""],c,a,i=()=>e[0]){let r=c||e;typeof a>"u"&&(a=q6("_fallback",e));let n={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:a,_getTarget:i,override:l=>u4([l,...e],t,r,a)};return new Proxy(n,{deleteProperty(l,h){return delete l[h],delete l._keys,delete e[0][h],!0},get(l,h){return U6(l,h,()=>W5(h,t,e,l))},getOwnPropertyDescriptor(l,h){return Reflect.getOwnPropertyDescriptor(l._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,h){return w6(l).includes(h)},ownKeys(l){return w6(l)},set(l,h,s){let o=l._storage||(l._storage=i());return l[h]=o[h]=s,delete l._keys,!0}})}function I1(e,t,c,a){let i={_cacheable:!1,_proxy:e,_context:t,_subProxy:c,_stack:new Set,_descriptors:u3(e,a),setContext:r=>I1(e,r,c,a),override:r=>I1(e.override(r),t,c,a)};return new Proxy(i,{deleteProperty(r,n){return delete r[n],delete e[n],!0},get(r,n,l){return U6(r,n,()=>T5(r,n,l))},getOwnPropertyDescriptor(r,n){return r._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,n){return Reflect.has(e,n)},ownKeys(){return Reflect.ownKeys(e)},set(r,n,l){return e[n]=l,delete r[n],!0}})}function u3(e,t={scriptable:!0,indexable:!0}){let{_scriptable:c=t.scriptable,_indexable:a=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:c,indexable:a,isScriptable:m1(c)?c:()=>c,isIndexable:m1(a)?a:()=>a}}var R5=(e,t)=>e?e+r4(t):t,p3=(e,t)=>B(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function U6(e,t,c){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let a=c();return e[t]=a,a}function T5(e,t,c){let{_proxy:a,_context:i,_subProxy:r,_descriptors:n}=e,l=a[t];return m1(l)&&n.isScriptable(t)&&(l=O5(t,l,e,c)),D(l)&&l.length&&(l=E5(t,l,e,n.isIndexable)),p3(t,l)&&(l=I1(l,i,r&&r[t],n)),l}function O5(e,t,c,a){let{_proxy:i,_context:r,_subProxy:n,_stack:l}=c;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let h=t(r,n||a);return l.delete(e),p3(e,h)&&(h=z3(i._scopes,i,e,h)),h}function E5(e,t,c,a){let{_proxy:i,_context:r,_subProxy:n,_descriptors:l}=c;if(typeof r.index<"u"&&a(e))return t[r.index%t.length];if(B(t[0])){let h=t,s=i._scopes.filter(o=>o!==h);t=[];for(let o of h){let d=z3(s,i,e,o);t.push(I1(d,r,n&&n[e],l))}}return t}function G6(e,t,c){return m1(e)?e(t,c):e}var I5=(e,t)=>e===!0?t:typeof e=="string"?Z1(t,e):void 0;function Z5(e,t,c,a,i){for(let r of t){let n=I5(c,r);if(n){e.add(n);let l=G6(n._fallback,c,i);if(typeof l<"u"&&l!==c&&l!==a)return l}else if(n===!1&&typeof a<"u"&&c!==a)return null}return!1}function z3(e,t,c,a){let i=t._rootScopes,r=G6(t._fallback,c,a),n=[...e,...i],l=new Set;l.add(a);let h=V6(l,n,c,r||c,a);return h===null||typeof r<"u"&&r!==c&&(h=V6(l,n,r,h,a),h===null)?!1:u4(Array.from(l),[""],i,r,()=>N5(t,c,a))}function V6(e,t,c,a,i){for(;c;)c=Z5(e,t,c,a,i);return c}function N5(e,t,c){let a=e._getTarget();t in a||(a[t]={});let i=a[t];return D(i)&&B(c)?c:i||{}}function W5(e,t,c,a){let i;for(let r of t)if(i=q6(R5(r,e),c),typeof i<"u")return p3(e,i)?z3(c,a,e,i):i}function q6(e,t){for(let c of t){if(!c)continue;let a=c[e];if(typeof a<"u")return a}}function w6(e){let t=e._keys;return t||(t=e._keys=j5(e._scopes)),t}function j5(e){let t=new Set;for(let c of e)for(let a of Object.keys(c).filter(i=>!i.startsWith("_")))t.add(a);return Array.from(t)}var dc=Number.EPSILON||1e-14;function p4(){return typeof window<"u"&&typeof document<"u"}function z4(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function i4(e,t,c){let a;return typeof e=="string"?(a=parseInt(e,10),e.indexOf("%")!==-1&&(a=a/100*t.parentNode[c])):a=e,a}var f4=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function U5(e,t){return f4(e).getPropertyValue(t)}var G5=["top","right","bottom","left"];function E1(e,t,c){let a={};c=c?"-"+c:"";for(let i=0;i<4;i++){let r=G5[i];a[r]=parseFloat(e[t+"-"+r+c])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}var q5=(e,t,c)=>(e>0||t>0)&&(!c||!c.shadowRoot);function Y5(e,t){let c=e.touches,a=c&&c.length?c[0]:e,{offsetX:i,offsetY:r}=a,n=!1,l,h;if(q5(i,r,e.target))l=i,h=r;else{let s=t.getBoundingClientRect();l=a.clientX-s.left,h=a.clientY-s.top,n=!0}return{x:l,y:h,box:n}}function P1(e,t){if("native"in e)return e;let{canvas:c,currentDevicePixelRatio:a}=t,i=f4(c),r=i.boxSizing==="border-box",n=E1(i,"padding"),l=E1(i,"border","width"),{x:h,y:s,box:o}=Y5(e,c),d=n.left+(o&&l.left),v=n.top+(o&&l.top),{width:g,height:z}=t;return r&&(g-=n.width+l.width,z-=n.height+l.height),{x:Math.round((h-d)/g*c.width/a),y:Math.round((s-v)/z*c.height/a)}}function $5(e,t,c){let a,i;if(t===void 0||c===void 0){let r=e&&z4(e);if(!r)t=e.clientWidth,c=e.clientHeight;else{let n=r.getBoundingClientRect(),l=f4(r),h=E1(l,"border","width"),s=E1(l,"padding");t=n.width-s.width-h.width,c=n.height-s.height-h.height,a=i4(l.maxWidth,r,"clientWidth"),i=i4(l.maxHeight,r,"clientHeight")}}return{width:t,height:c,maxWidth:a||a4,maxHeight:i||a4}}var t4=e=>Math.round(e*10)/10;function Y6(e,t,c,a){let i=f4(e),r=E1(i,"margin"),n=i4(i.maxWidth,e,"clientWidth")||a4,l=i4(i.maxHeight,e,"clientHeight")||a4,h=$5(e,t,c),{width:s,height:o}=h;if(i.boxSizing==="content-box"){let v=E1(i,"border","width"),g=E1(i,"padding");s-=g.width+v.width,o-=g.height+v.height}return s=Math.max(0,s-r.width),o=Math.max(0,a?s/a:o-r.height),s=t4(Math.min(s,n,h.maxWidth)),o=t4(Math.min(o,l,h.maxHeight)),s&&!o&&(o=t4(s/2)),(t!==void 0||c!==void 0)&&a&&h.height&&o>h.height&&(o=h.height,s=t4(Math.floor(o*a))),{width:s,height:o}}function f3(e,t,c){let a=t||1,i=Math.floor(e.height*a),r=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let n=e.canvas;return n.style&&(c||!n.style.height&&!n.style.width)&&(n.style.height=`${e.height}px`,n.style.width=`${e.width}px`),e.currentDevicePixelRatio!==a||n.height!==i||n.width!==r?(e.currentDevicePixelRatio=a,n.height=i,n.width=r,e.ctx.setTransform(a,0,0,a,0,0),!0):!1}var $6=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};p4()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function m3(e,t){let c=U5(e,t),a=c&&c.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}var X5=function(e,t){return{x(c){return e+e+t-c},setWidth(c){t=c},textAlign(c){return c==="center"?c:c==="right"?"left":"right"},xPlus(c,a){return c-a},leftForLtr(c,a){return c-a}}},K5=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function j1(e,t,c){return e?X5(t,c):K5()}function x3(e,t){let c,a;(t==="ltr"||t==="rtl")&&(c=e.canvas.style,a=[c.getPropertyValue("direction"),c.getPropertyPriority("direction")],c.setProperty("direction",t,"important"),e.prevTextDirection=a)}function M3(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function c4(e,t,c){return e.options.clip?e[c]:t[c]}function J5(e,t){let{xScale:c,yScale:a}=e;return c&&a?{left:c4(c,t,"left"),right:c4(c,t,"right"),top:c4(a,t,"top"),bottom:c4(a,t,"bottom")}:t}function X6(e,t){let c=t._clip;if(c.disabled)return!1;let a=J5(t,e.chartArea);return{left:c.left===!1?0:a.left-(c.left===!0?0:c.left),right:c.right===!1?e.width:a.right+(c.right===!0?0:c.right),top:c.top===!1?0:a.top-(c.top===!0?0:c.top),bottom:c.bottom===!1?e.height:a.bottom+(c.bottom===!0?0:c.bottom)}}var y3=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,c,a,i){let r=c.listeners[i],n=c.duration;r.forEach(l=>l({chart:t,initial:c.initial,numSteps:n,currentStep:Math.min(a-c.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=n3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let c=0;this._charts.forEach((a,i)=>{if(!a.running||!a.items.length)return;let r=a.items,n=r.length-1,l=!1,h;for(;n>=0;--n)h=r[n],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(t),l=!0):(r[n]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,a,t,"progress")),r.length||(a.running=!1,this._notify(i,a,t,"complete"),a.initial=!1),c+=r.length}),this._lastDate=t,c===0&&(this._running=!1)}_getAnims(t){let c=this._charts,a=c.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},c.set(t,a)),a}listen(t,c,a){this._getAnims(t).listeners[c].push(a)}add(t,c){!c||!c.length||this._getAnims(t).items.push(...c)}has(t){return this._getAnims(t).items.length>0}start(t){let c=this._charts.get(t);c&&(c.running=!0,c.start=Date.now(),c.duration=c.items.reduce((a,i)=>Math.max(a,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;let c=this._charts.get(t);return!(!c||!c.running||!c.items.length)}stop(t){let c=this._charts.get(t);if(!c||!c.items.length)return;let a=c.items,i=a.length-1;for(;i>=0;--i)a[i].cancel();c.items=[],this._notify(t,c,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},C1=new y3,K6="transparent",Q5={boolean(e,t,c){return c>.5?t:e},color(e,t,c){let a=h3(e||K6),i=a.valid&&h3(t||K6);return i&&i.valid?i.mix(a,c).hexString():t},number(e,t,c){return e+(t-e)*c}},A3=class{constructor(t,c,a,i){let r=c[a];i=F2([t.to,i,r,t.from]);let n=F2([t.from,r,i]);this._active=!0,this._fn=t.fn||Q5[t.type||typeof n],this._easing=e2[t.easing]||e2.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=c,this._prop=a,this._from=n,this._to=i,this._promises=void 0}active(){return this._active}update(t,c,a){if(this._active){this._notify(!1);let i=this._target[this._prop],r=a-this._start,n=this._duration-r;this._start=a,this._duration=Math.floor(Math.max(n,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=F2([t.to,c,i,t.from]),this._from=F2([t.from,i,c])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let c=t-this._start,a=this._duration,i=this._prop,r=this._from,n=this._loop,l=this._to,h;if(this._active=r!==l&&(n||c<a),!this._active){this._target[i]=l,this._notify(!0);return}if(c<0){this._target[i]=r;return}h=c/a%2,h=n&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(r,l,h)}wait(){let t=this._promises||(this._promises=[]);return new Promise((c,a)=>{t.push({res:c,rej:a})})}_notify(t){let c=t?"res":"rej",a=this._promises||[];for(let i=0;i<a.length;i++)a[i][c]()}},b4=class{constructor(t,c){this._chart=t,this._properties=new Map,this.configure(c)}configure(t){if(!B(t))return;let c=Object.keys(T.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{let r=t[i];if(!B(r))return;let n={};for(let l of c)n[l]=r[l];(D(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!a.has(l))&&a.set(l,n)})})}_animateOptions(t,c){let a=c.options,i=c7(t,a);if(!i)return[];let r=this._createAnimations(i,a);return a.$shared&&t7(t.options.$animations,a).then(()=>{t.options=a},()=>{}),r}_createAnimations(t,c){let a=this._properties,i=[],r=t.$animations||(t.$animations={}),n=Object.keys(c),l=Date.now(),h;for(h=n.length-1;h>=0;--h){let s=n[h];if(s.charAt(0)==="$")continue;if(s==="options"){i.push(...this._animateOptions(t,c));continue}let o=c[s],d=r[s],v=a.get(s);if(d)if(v&&d.active()){d.update(v,o,l);continue}else d.cancel();if(!v||!v.duration){t[s]=o;continue}r[s]=d=new A3(v,t,s,o),i.push(d)}return i}update(t,c){if(this._properties.size===0){Object.assign(t,c);return}let a=this._createAnimations(t,c);if(a.length)return C1.add(this._chart,a),!0}};function t7(e,t){let c=[],a=Object.keys(t);for(let i=0;i<a.length;i++){let r=e[a[i]];r&&r.active()&&c.push(r.wait())}return Promise.all(c)}function c7(e,t){if(!t)return;let c=e.options;if(!c){e.options=t;return}return c.$shared&&(e.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c}function J6(e,t){let c=e&&e.options||{},a=c.reverse,i=c.min===void 0?t:0,r=c.max===void 0?t:0;return{start:a?r:i,end:a?i:r}}function e7(e,t,c){if(c===!1)return!1;let a=J6(e,c),i=J6(t,c);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}function a7(e){let t,c,a,i;return B(e)?(t=e.top,c=e.right,a=e.bottom,i=e.left):t=c=a=i=e,{top:t,right:c,bottom:a,left:i,disabled:e===!1}}function Z0(e,t){let c=[],a=e._getSortedDatasetMetas(t),i,r;for(i=0,r=a.length;i<r;++i)c.push(a[i].index);return c}function Q6(e,t,c,a={}){let i=e.keys,r=a.mode==="single",n,l,h,s;if(t===null)return;let o=!1;for(n=0,l=i.length;n<l;++n){if(h=+i[n],h===c){if(o=!0,a.all)continue;break}s=e.values[h],W(s)&&(r||t===0||M1(t)===M1(s))&&(t+=s)}return!o&&!a.all?0:t}function i7(e,t){let{iScale:c,vScale:a}=t,i=c.axis==="x"?"x":"y",r=a.axis==="x"?"x":"y",n=Object.keys(e),l=new Array(n.length),h,s,o;for(h=0,s=n.length;h<s;++h)o=n[h],l[h]={[i]:o,[r]:e[o]};return l}function H3(e,t){let c=e&&e.options.stacked;return c||c===void 0&&t.stack!==void 0}function r7(e,t,c){return`${e.id}.${t.id}.${c.stack||c.type}`}function n7(e){let{min:t,max:c,minDefined:a,maxDefined:i}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:i?c:Number.POSITIVE_INFINITY}}function l7(e,t,c){let a=e[t]||(e[t]={});return a[c]||(a[c]={})}function t0(e,t,c,a){for(let i of t.getMatchingVisibleMetas(a).reverse()){let r=e[i.index];if(c&&r>0||!c&&r<0)return i.index}return null}function c0(e,t){let{chart:c,_cachedMeta:a}=e,i=c._stacks||(c._stacks={}),{iScale:r,vScale:n,index:l}=a,h=r.axis,s=n.axis,o=r7(r,n,a),d=t.length,v;for(let g=0;g<d;++g){let z=t[g],{[h]:u,[s]:p}=z,f=z._stacks||(z._stacks={});v=f[s]=l7(i,o,u),v[l]=p,v._top=t0(v,n,!0,a.type),v._bottom=t0(v,n,!1,a.type);let m=v._visualValues||(v._visualValues={});m[l]=p}}function C3(e,t){let c=e.scales;return Object.keys(c).filter(a=>c[a].axis===t).shift()}function h7(e,t){return k1(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function s7(e,t,c){return k1(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:c,index:t,mode:"default",type:"data"})}function b2(e,t){let c=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(let i of t){let r=i._stacks;if(!r||r[a]===void 0||r[a][c]===void 0)return;delete r[a][c],r[a]._visualValues!==void 0&&r[a]._visualValues[c]!==void 0&&delete r[a]._visualValues[c]}}}var V3=e=>e==="reset"||e==="none",e0=(e,t)=>t?e:Object.assign({},e),o7=(e,t,c)=>e&&!t.hidden&&t._stacked&&{keys:Z0(c,!0),values:null},q1=class{constructor(t,c){this.chart=t,this._ctx=t.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=H3(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&b2(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,c=this._cachedMeta,a=this.getDataset(),i=(d,v,g,z)=>d==="x"?v:d==="r"?z:g,r=c.xAxisID=S(a.xAxisID,C3(t,"x")),n=c.yAxisID=S(a.yAxisID,C3(t,"y")),l=c.rAxisID=S(a.rAxisID,C3(t,"r")),h=c.indexAxis,s=c.iAxisID=i(h,r,n,l),o=c.vAxisID=i(h,n,r,l);c.xScale=this.getScaleForId(r),c.yScale=this.getScaleForId(n),c.rScale=this.getScaleForId(l),c.iScale=this.getScaleForId(s),c.vScale=this.getScaleForId(o)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let c=this._cachedMeta;return t===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&i3(this._data,this),t._stacked&&b2(t)}_dataCheck(){let t=this.getDataset(),c=t.data||(t.data=[]),a=this._data;if(B(c)){let i=this._cachedMeta;this._data=i7(c,i)}else if(a!==c){if(a){i3(a,this);let i=this._cachedMeta;b2(i),i._parsed=[]}c&&Object.isExtensible(c)&&O6(c,this),this._syncList=[],this._data=c}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let c=this._cachedMeta,a=this.getDataset(),i=!1;this._dataCheck();let r=c._stacked;c._stacked=H3(c.vScale,c),c.stack!==a.stack&&(i=!0,b2(c),c.stack=a.stack),this._resyncElements(t),(i||r!==c._stacked)&&(c0(this,c._parsed),c._stacked=H3(c.vScale,c))}configure(){let t=this.chart.config,c=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),c,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,c){let{_cachedMeta:a,_data:i}=this,{iScale:r,_stacked:n}=a,l=r.axis,h=t===0&&c===i.length?!0:a._sorted,s=t>0&&a._parsed[t-1],o,d,v;if(this._parsing===!1)a._parsed=i,a._sorted=!0,v=i;else{D(i[t])?v=this.parseArrayData(a,i,t,c):B(i[t])?v=this.parseObjectData(a,i,t,c):v=this.parsePrimitiveData(a,i,t,c);let g=()=>d[l]===null||s&&d[l]<s[l];for(o=0;o<c;++o)a._parsed[o+t]=d=v[o],h&&(g()&&(h=!1),s=d);a._sorted=h}n&&c0(this,v)}parsePrimitiveData(t,c,a,i){let{iScale:r,vScale:n}=t,l=r.axis,h=n.axis,s=r.getLabels(),o=r===n,d=new Array(i),v,g,z;for(v=0,g=i;v<g;++v)z=v+a,d[v]={[l]:o||r.parse(s[z],z),[h]:n.parse(c[z],z)};return d}parseArrayData(t,c,a,i){let{xScale:r,yScale:n}=t,l=new Array(i),h,s,o,d;for(h=0,s=i;h<s;++h)o=h+a,d=c[o],l[h]={x:r.parse(d[0],o),y:n.parse(d[1],o)};return l}parseObjectData(t,c,a,i){let{xScale:r,yScale:n}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,s=new Array(i),o,d,v,g;for(o=0,d=i;o<d;++o)v=o+a,g=c[v],s[o]={x:r.parse(Z1(g,l),v),y:n.parse(Z1(g,h),v)};return s}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,c,a){let i=this.chart,r=this._cachedMeta,n=c[t.axis],l={keys:Z0(i,!0),values:c._stacks[t.axis]._visualValues};return Q6(l,n,r.index,{mode:a})}updateRangeFromParsed(t,c,a,i){let r=a[c.axis],n=r===null?NaN:r,l=i&&a._stacks[c.axis];i&&l&&(i.values=l,n=Q6(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,n),t.max=Math.max(t.max,n)}getMinMax(t,c){let a=this._cachedMeta,i=a._parsed,r=a._sorted&&t===a.iScale,n=i.length,l=this._getOtherScale(t),h=o7(c,a,this.chart),s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:o,max:d}=n7(l),v,g;function z(){g=i[v];let u=g[l.axis];return!W(g[t.axis])||o>u||d<u}for(v=0;v<n&&!(!z()&&(this.updateRangeFromParsed(s,t,g,h),r));++v);if(r){for(v=n-1;v>=0;--v)if(!z()){this.updateRangeFromParsed(s,t,g,h);break}}return s}getAllParsedValues(t){let c=this._cachedMeta._parsed,a=[],i,r,n;for(i=0,r=c.length;i<r;++i)n=c[i][t.axis],W(n)&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(t){let c=this._cachedMeta,a=c.iScale,i=c.vScale,r=this.getParsed(t);return{label:a?""+a.getLabelForValue(r[a.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){let c=this._cachedMeta;this.update(t||"default"),c._clip=a7(S(this.options.clip,e7(c.xScale,c.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,c=this.chart,a=this._cachedMeta,i=a.data||[],r=c.chartArea,n=[],l=this._drawStart||0,h=this._drawCount||i.length-l,s=this.options.drawActiveElementsOnTop,o;for(a.dataset&&a.dataset.draw(t,r,l,h),o=l;o<l+h;++o){let d=i[o];d.hidden||(d.active&&s?n.push(d):d.draw(t,r))}for(o=0;o<n.length;++o)n[o].draw(t,r)}getStyle(t,c){let a=c?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,c,a){let i=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let n=this._cachedMeta.data[t];r=n.$context||(n.$context=s7(this.getContext(),t,n)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=h7(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!c,r.mode=a,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,c){return this._resolveElementOptions(this.dataElementType.id,c,t)}_resolveElementOptions(t,c="default",a){let i=c==="active",r=this._cachedDataOpts,n=t+"-"+c,l=r[n],h=this.enableOptionSharing&&r2(a);if(l)return e0(l,h);let s=this.chart.config,o=s.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],v=s.getOptionScopes(this.getDataset(),o),g=Object.keys(T.elements[t]),z=()=>this.getContext(a,i,c),u=s.resolveNamedOptions(v,g,z,d);return u.$shared&&(u.$shared=h,r[n]=Object.freeze(e0(u,h))),u}_resolveAnimations(t,c,a){let i=this.chart,r=this._cachedDataOpts,n=`animation-${c}`,l=r[n];if(l)return l;let h;if(i.options.animation!==!1){let o=this.chart.config,d=o.datasetAnimationScopeKeys(this._type,c),v=o.getOptionScopes(this.getDataset(),d);h=o.createResolver(v,this.getContext(t,a,c))}let s=new b4(i,h&&h.animations);return h&&h._cacheable&&(r[n]=Object.freeze(s)),s}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,c){return!c||V3(t)||this.chart._animationsDisabled}_getSharedOptions(t,c){let a=this.resolveDataElementOptions(t,c),i=this._sharedOptions,r=this.getSharedOptions(a),n=this.includeOptions(c,r)||r!==i;return this.updateSharedOptions(r,c,a),{sharedOptions:r,includeOptions:n}}updateElement(t,c,a,i){V3(i)?Object.assign(t,a):this._resolveAnimations(c,i).update(t,a)}updateSharedOptions(t,c,a){t&&!V3(c)&&this._resolveAnimations(void 0,c).update(t,a)}_setStyle(t,c,a,i){t.active=i;let r=this.getStyle(c,i);this._resolveAnimations(c,a,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,c,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,c,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let c=this._data,a=this._cachedMeta.data;for(let[l,h,s]of this._syncList)this[l](h,s);this._syncList=[];let i=a.length,r=c.length,n=Math.min(r,i);n&&this.parse(0,n),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,c,a=!0){let i=this._cachedMeta,r=i.data,n=t+c,l,h=s=>{for(s.length+=c,l=s.length-1;l>=n;l--)s[l]=s[l-c]};for(h(r),l=t;l<n;++l)r[l]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,c),a&&this.updateElements(r,t,c,"reset")}updateElements(t,c,a,i){}_removeElements(t,c){let a=this._cachedMeta;if(this._parsing){let i=a._parsed.splice(t,c);a._stacked&&b2(a,i)}a.data.splice(t,c)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[c,a,i]=t;this[c](a,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,c){c&&this._sync(["_removeElements",t,c]);let a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};b(q1,"defaults",{}),b(q1,"datasetElementType",null),b(q1,"dataElementType",null);function d7(e,t){if(!e._cache.$bar){let c=e.getMatchingVisibleMetas(t),a=[];for(let i=0,r=c.length;i<r;i++)a=a.concat(c[i].controller.getAllParsedValues(e));e._cache.$bar=r3(a.sort((i,r)=>i-r))}return e._cache.$bar}function v7(e){let t=e.iScale,c=d7(t,e.type),a=t._length,i,r,n,l,h=()=>{n===32767||n===-32768||(r2(l)&&(a=Math.min(a,Math.abs(n-l)||a)),l=n)};for(i=0,r=c.length;i<r;++i)n=t.getPixelForValue(c[i]),h();for(l=void 0,i=0,r=t.ticks.length;i<r;++i)n=t.getPixelForTick(i),h();return a}function g7(e,t,c,a){let i=c.barThickness,r,n;return y(i)?(r=t.min*c.categoryPercentage,n=c.barPercentage):(r=i*a,n=1),{chunk:r/a,ratio:n,start:t.pixels[e]-r/2}}function u7(e,t,c,a){let i=t.pixels,r=i[e],n=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null,h=c.categoryPercentage;n===null&&(n=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-n);let s=r-(r-Math.min(n,l))/2*h;return{chunk:Math.abs(l-n)/2*h/a,ratio:c.barPercentage,start:s}}function p7(e,t,c,a){let i=c.parse(e[0],a),r=c.parse(e[1],a),n=Math.min(i,r),l=Math.max(i,r),h=n,s=l;Math.abs(n)>Math.abs(l)&&(h=l,s=n),t[c.axis]=s,t._custom={barStart:h,barEnd:s,start:i,end:r,min:n,max:l}}function N0(e,t,c,a){return D(e)?p7(e,t,c,a):t[c.axis]=c.parse(e,a),t}function a0(e,t,c,a){let i=e.iScale,r=e.vScale,n=i.getLabels(),l=i===r,h=[],s,o,d,v;for(s=c,o=c+a;s<o;++s)v=t[s],d={},d[i.axis]=l||i.parse(n[s],s),h.push(N0(v,d,r,s));return h}function w3(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function z7(e,t,c){return e!==0?M1(e):(t.isHorizontal()?1:-1)*(t.min>=c?1:-1)}function f7(e){let t,c,a,i,r;return e.horizontal?(t=e.base>e.x,c="left",a="right"):(t=e.base<e.y,c="bottom",a="top"),t?(i="end",r="start"):(i="start",r="end"),{start:c,end:a,reverse:t,top:i,bottom:r}}function m7(e,t,c,a){let i=t.borderSkipped,r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:n,end:l,reverse:h,top:s,bottom:o}=f7(e);i==="middle"&&c&&(e.enableBorderRadius=!0,(c._top||0)===a?i=s:(c._bottom||0)===a?i=o:(r[i0(o,n,l,h)]=!0,i=s)),r[i0(i,n,l,h)]=!0,e.borderSkipped=r}function i0(e,t,c,a){return a?(e=x7(e,t,c),e=r0(e,c,t)):e=r0(e,t,c),e}function x7(e,t,c){return e===t?c:e===c?t:e}function r0(e,t,c){return e==="start"?t:e==="end"?c:e}function M7(e,{inflateAmount:t},c){e.inflateAmount=t==="auto"?c===1?.33:0:t}var Y1=class extends q1{parsePrimitiveData(t,c,a,i){return a0(t,c,a,i)}parseArrayData(t,c,a,i){return a0(t,c,a,i)}parseObjectData(t,c,a,i){let{iScale:r,vScale:n}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,s=r.axis==="x"?l:h,o=n.axis==="x"?l:h,d=[],v,g,z,u;for(v=a,g=a+i;v<g;++v)u=c[v],z={},z[r.axis]=r.parse(Z1(u,s),v),d.push(N0(Z1(u,o),z,n,v));return d}updateRangeFromParsed(t,c,a,i){super.updateRangeFromParsed(t,c,a,i);let r=a._custom;r&&c===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let c=this._cachedMeta,{iScale:a,vScale:i}=c,r=this.getParsed(t),n=r._custom,l=w3(n)?"["+n.start+", "+n.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+a.getLabelForValue(r[a.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,t)}updateElements(t,c,a,i){let r=i==="reset",{index:n,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),s=l.isHorizontal(),o=this._getRuler(),{sharedOptions:d,includeOptions:v}=this._getSharedOptions(c,i);for(let g=c;g<c+a;g++){let z=this.getParsed(g),u=r||y(z[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(g),p=this._calculateBarIndexPixels(g,o),f=(z._stacks||{})[l.axis],m={horizontal:s,base:u.base,enableBorderRadius:!f||w3(z._custom)||n===f._top||n===f._bottom,x:s?u.head:p.center,y:s?p.center:u.head,height:s?p.size:Math.abs(u.size),width:s?Math.abs(u.size):p.size};v&&(m.options=d||this.resolveDataElementOptions(g,t[g].active?"active":i));let x=m.options||t[g].options;m7(m,x,f,n),M7(m,x,o.ratio),this.updateElement(t[g],g,m,i)}}_getStacks(t,c){let{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter(o=>o.controller.options.grouped),r=a.options.stacked,n=[],l=this._cachedMeta.controller.getParsed(c),h=l&&l[a.axis],s=o=>{let d=o._parsed.find(g=>g[a.axis]===h),v=d&&d[o.vScale.axis];if(y(v)||isNaN(v))return!0};for(let o of i)if(!(c!==void 0&&s(o))&&((r===!1||n.indexOf(o.stack)===-1||r===void 0&&o.stack===void 0)&&n.push(o.stack),o.index===t))break;return n.length||n.push(void 0),n}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,c,a){let i=this._getStacks(t,a),r=c!==void 0?i.indexOf(c):-1;return r===-1?i.length-1:r}_getRuler(){let t=this.options,c=this._cachedMeta,a=c.iScale,i=[],r,n;for(r=0,n=c.data.length;r<n;++r)i.push(a.getPixelForValue(this.getParsed(r)[a.axis],r));let l=t.barThickness;return{min:l||v7(c),pixels:i,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:c,_stacked:a,index:i},options:{base:r,minBarLength:n}}=this,l=r||0,h=this.getParsed(t),s=h._custom,o=w3(s),d=h[c.axis],v=0,g=a?this.applyStack(c,h,a):d,z,u;g!==d&&(v=g-d,g=d),o&&(d=s.barStart,g=s.barEnd-s.barStart,d!==0&&M1(d)!==M1(s.barEnd)&&(v=0),v+=d);let p=!y(r)&&!o?r:v,f=c.getPixelForValue(p);if(this.chart.getDataVisibility(t)?z=c.getPixelForValue(v+g):z=f,u=z-f,Math.abs(u)<n){u=z7(u,c,l)*n,d===l&&(f-=u/2);let m=c.getPixelForDecimal(0),x=c.getPixelForDecimal(1),H=Math.min(m,x),M=Math.max(m,x);f=Math.max(Math.min(f,M),H),z=f+u,a&&!o&&(h._stacks[c.axis]._visualValues[i]=c.getValueForPixel(z)-c.getValueForPixel(f))}if(f===c.getPixelForValue(l)){let m=M1(u)*c.getLineWidthForValue(l)/2;f+=m,u-=m}return{size:u,base:f,head:z,center:z+u/2}}_calculateBarIndexPixels(t,c){let a=c.scale,i=this.options,r=i.skipNull,n=S(i.maxBarThickness,1/0),l,h;if(c.grouped){let s=r?this._getStackCount(t):c.stackCount,o=i.barThickness==="flex"?u7(t,c,i,s):g7(t,c,i,s),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=o.start+o.chunk*d+o.chunk/2,h=Math.min(n,o.chunk*o.ratio)}else l=a.getPixelForValue(this.getParsed(t)[a.axis],t),h=Math.min(n,c.min*c.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){let t=this._cachedMeta,c=t.vScale,a=t.data,i=a.length,r=0;for(;r<i;++r)this.getParsed(r)[c.axis]!==null&&!a[r].hidden&&a[r].draw(this._ctx)}};b(Y1,"id","bar"),b(Y1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),b(Y1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function U1(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var D2=class{static override(t){Object.assign(D2.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return U1()}parse(){return U1()}format(){return U1()}add(){return U1()}diff(){return U1()}startOf(){return U1()}endOf(){return U1()}},H7={_date:D2};function C7(e,t,c,a){let{controller:i,data:r,_sorted:n}=e,l=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&n&&r.length){let s=l._reversePixels?D6:h4;if(a){if(i._sharedOptions){let o=r[0],d=typeof o.getRange=="function"&&o.getRange(t);if(d){let v=s(r,t,c-d),g=s(r,t,c+d);return{lo:v.lo,hi:g.hi}}}}else{let o=s(r,t,c);if(h){let{vScale:d}=i._cachedMeta,{_parsed:v}=e,g=v.slice(0,o.lo+1).reverse().findIndex(u=>!y(u[d.axis]));o.lo-=Math.max(0,g);let z=v.slice(o.hi).findIndex(u=>!y(u[d.axis]));o.hi+=Math.max(0,z)}return o}}return{lo:0,hi:r.length-1}}function O2(e,t,c,a,i){let r=e.getSortedVisibleDatasetMetas(),n=c[t];for(let l=0,h=r.length;l<h;++l){let{index:s,data:o}=r[l],{lo:d,hi:v}=C7(r[l],t,n,i);for(let g=d;g<=v;++g){let z=o[g];z.skip||a(z,s,g)}}}function V7(e){let t=e.indexOf("x")!==-1,c=e.indexOf("y")!==-1;return function(a,i){let r=t?Math.abs(a.x-i.x):0,n=c?Math.abs(a.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}}function L3(e,t,c,a,i){let r=[];return!i&&!e.isPointInArea(t)||O2(e,c,t,function(l,h,s){!i&&!W1(l,e.chartArea,0)||l.inRange(t.x,t.y,a)&&r.push({element:l,datasetIndex:h,index:s})},!0),r}function w7(e,t,c,a){let i=[];function r(n,l,h){let{startAngle:s,endAngle:o}=n.getProps(["startAngle","endAngle"],a),{angle:d}=A6(n,{x:t.x,y:t.y});k6(d,s,o)&&i.push({element:n,datasetIndex:l,index:h})}return O2(e,c,t,r),i}function L7(e,t,c,a,i,r){let n=[],l=V7(c),h=Number.POSITIVE_INFINITY;function s(o,d,v){let g=o.inRange(t.x,t.y,i);if(a&&!g)return;let z=o.getCenterPoint(i);if(!(!!r||e.isPointInArea(z))&&!g)return;let p=l(t,z);p<h?(n=[{element:o,datasetIndex:d,index:v}],h=p):p===h&&n.push({element:o,datasetIndex:d,index:v})}return O2(e,c,t,s),n}function F3(e,t,c,a,i,r){return!r&&!e.isPointInArea(t)?[]:c==="r"&&!a?w7(e,t,c,i):L7(e,t,c,a,i,r)}function n0(e,t,c,a,i){let r=[],n=c==="x"?"inXRange":"inYRange",l=!1;return O2(e,c,t,(h,s,o)=>{h[n]&&h[n](t[c],i)&&(r.push({element:h,datasetIndex:s,index:o}),l=l||h.inRange(t.x,t.y,i))}),a&&!l?[]:r}var F7={evaluateInteractionItems:O2,modes:{index(e,t,c,a){let i=P1(t,e),r=c.axis||"x",n=c.includeInvisible||!1,l=c.intersect?L3(e,i,r,a,n):F3(e,i,r,!1,a,n),h=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(s=>{let o=l[0].index,d=s.data[o];d&&!d.skip&&h.push({element:d,datasetIndex:s.index,index:o})}),h):[]},dataset(e,t,c,a){let i=P1(t,e),r=c.axis||"xy",n=c.includeInvisible||!1,l=c.intersect?L3(e,i,r,a,n):F3(e,i,r,!1,a,n);if(l.length>0){let h=l[0].datasetIndex,s=e.getDatasetMeta(h).data;l=[];for(let o=0;o<s.length;++o)l.push({element:s[o],datasetIndex:h,index:o})}return l},point(e,t,c,a){let i=P1(t,e),r=c.axis||"xy",n=c.includeInvisible||!1;return L3(e,i,r,a,n)},nearest(e,t,c,a){let i=P1(t,e),r=c.axis||"xy",n=c.includeInvisible||!1;return F3(e,i,r,c.intersect,a,n)},x(e,t,c,a){let i=P1(t,e);return n0(e,i,"x",c.intersect,a)},y(e,t,c,a){let i=P1(t,e);return n0(e,i,"y",c.intersect,a)}}},W0=["left","top","right","bottom"];function B2(e,t){return e.filter(c=>c.pos===t)}function l0(e,t){return e.filter(c=>W0.indexOf(c.pos)===-1&&c.box.axis===t)}function S2(e,t){return e.sort((c,a)=>{let i=t?a:c,r=t?c:a;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function b7(e){let t=[],c,a,i,r,n,l;for(c=0,a=(e||[]).length;c<a;++c)i=e[c],{position:r,options:{stack:n,stackWeight:l=1}}=i,t.push({index:c,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:n&&r+n,stackWeight:l});return t}function B7(e){let t={};for(let c of e){let{stack:a,pos:i,stackWeight:r}=c;if(!a||!W0.includes(i))continue;let n=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=r}return t}function S7(e,t){let c=B7(e),{vBoxMaxWidth:a,hBoxMaxHeight:i}=t,r,n,l;for(r=0,n=e.length;r<n;++r){l=e[r];let{fullSize:h}=l.box,s=c[l.stack],o=s&&l.stackWeight/s.weight;l.horizontal?(l.width=o?o*a:h&&t.availableWidth,l.height=i):(l.width=a,l.height=o?o*i:h&&t.availableHeight)}return c}function y7(e){let t=b7(e),c=S2(t.filter(s=>s.box.fullSize),!0),a=S2(B2(t,"left"),!0),i=S2(B2(t,"right")),r=S2(B2(t,"top"),!0),n=S2(B2(t,"bottom")),l=l0(t,"x"),h=l0(t,"y");return{fullSize:c,leftAndTop:a.concat(r),rightAndBottom:i.concat(h).concat(n).concat(l),chartArea:B2(t,"chartArea"),vertical:a.concat(i).concat(h),horizontal:r.concat(n).concat(l)}}function h0(e,t,c,a){return Math.max(e[c],t[c])+Math.max(e[a],t[a])}function j0(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function A7(e,t,c,a){let{pos:i,box:r}=c,n=e.maxPadding;if(!B(i)){c.size&&(e[i]-=c.size);let d=a[c.stack]||{size:0,count:1};d.size=Math.max(d.size,c.horizontal?r.height:r.width),c.size=d.size/d.count,e[i]+=c.size}r.getPadding&&j0(n,r.getPadding());let l=Math.max(0,t.outerWidth-h0(n,e,"left","right")),h=Math.max(0,t.outerHeight-h0(n,e,"top","bottom")),s=l!==e.w,o=h!==e.h;return e.w=l,e.h=h,c.horizontal?{same:s,other:o}:{same:o,other:s}}function _7(e){let t=e.maxPadding;function c(a){let i=Math.max(t[a]-e[a],0);return e[a]+=i,i}e.y+=c("top"),e.x+=c("left"),c("right"),c("bottom")}function k7(e,t){let c=t.maxPadding;function a(i){let r={left:0,top:0,right:0,bottom:0};return i.forEach(n=>{r[n]=Math.max(t[n],c[n])}),r}return a(e?["left","right"]:["top","bottom"])}function _2(e,t,c,a){let i=[],r,n,l,h,s,o;for(r=0,n=e.length,s=0;r<n;++r){l=e[r],h=l.box,h.update(l.width||t.w,l.height||t.h,k7(l.horizontal,t));let{same:d,other:v}=A7(t,c,l,a);s|=d&&i.length,o=o||v,h.fullSize||i.push(l)}return s&&_2(i,t,c,a)||o}function m4(e,t,c,a,i){e.top=c,e.left=t,e.right=t+a,e.bottom=c+i,e.width=a,e.height=i}function s0(e,t,c,a){let i=c.padding,{x:r,y:n}=t;for(let l of e){let h=l.box,s=a[l.stack]||{count:1,placed:0,weight:1},o=l.stackWeight/s.weight||1;if(l.horizontal){let d=t.w*o,v=s.size||h.height;r2(s.start)&&(n=s.start),h.fullSize?m4(h,i.left,n,c.outerWidth-i.right-i.left,v):m4(h,t.left+s.placed,n,d,v),s.start=n,s.placed+=d,n=h.bottom}else{let d=t.h*o,v=s.size||h.width;r2(s.start)&&(r=s.start),h.fullSize?m4(h,r,i.top,v,c.outerHeight-i.bottom-i.top):m4(h,r,t.top+s.placed,v,d),s.start=r,s.placed+=d,r=h.right}}t.x=r,t.y=n}var s1={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(c){t.draw(c)}}]},e.boxes.push(t)},removeBox(e,t){let c=e.boxes?e.boxes.indexOf(t):-1;c!==-1&&e.boxes.splice(c,1)},configure(e,t,c){t.fullSize=c.fullSize,t.position=c.position,t.weight=c.weight},update(e,t,c,a){if(!e)return;let i=Y(e.options.layout.padding),r=Math.max(t-i.width,0),n=Math.max(c-i.height,0),l=y7(e.boxes),h=l.vertical,s=l.horizontal;_(e.boxes,u=>{typeof u.beforeLayout=="function"&&u.beforeLayout()});let o=h.reduce((u,p)=>p.box.options&&p.box.options.display===!1?u:u+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:c,padding:i,availableWidth:r,availableHeight:n,vBoxMaxWidth:r/2/o,hBoxMaxHeight:n/2}),v=Object.assign({},i);j0(v,Y(a));let g=Object.assign({maxPadding:v,w:r,h:n,x:i.left,y:i.top},i),z=S7(h.concat(s),d);_2(l.fullSize,g,d,z),_2(h,g,d,z),_2(s,g,d,z)&&_2(h,g,d,z),_7(g),s0(l.leftAndTop,g,d,z),g.x+=g.w,g.y+=g.h,s0(l.rightAndBottom,g,d,z),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},_(l.chartArea,u=>{let p=u.box;Object.assign(p,e.chartArea),p.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},B4=class{acquireContext(t,c){}releaseContext(t){return!1}addEventListener(t,c,a){}removeEventListener(t,c,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,c,a,i){return c=Math.max(0,c||t.width),a=a||t.height,{width:c,height:Math.max(0,i?Math.floor(c/i):a)}}isAttached(t){return!0}updateConfig(t){}},_3=class extends B4{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},L4="$chartjs",P7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},o0=e=>e===null||e==="";function D7(e,t){let c=e.style,a=e.getAttribute("height"),i=e.getAttribute("width");if(e[L4]={initial:{height:a,width:i,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",o0(i)){let r=m3(e,"width");r!==void 0&&(e.width=r)}if(o0(a))if(e.style.height==="")e.height=e.width/(t||2);else{let r=m3(e,"height");r!==void 0&&(e.height=r)}return e}var U0=$6?{passive:!0}:!1;function R7(e,t,c){e&&e.addEventListener(t,c,U0)}function T7(e,t,c){e&&e.canvas&&e.canvas.removeEventListener(t,c,U0)}function O7(e,t){let c=P7[e.type]||e.type,{x:a,y:i}=P1(e,t);return{type:c,chart:t,native:e,x:a!==void 0?a:null,y:i!==void 0?i:null}}function S4(e,t){for(let c of e)if(c===t||c.contains(t))return!0}function E7(e,t,c){let a=e.canvas,i=new MutationObserver(r=>{let n=!1;for(let l of r)n=n||S4(l.addedNodes,a),n=n&&!S4(l.removedNodes,a);n&&c()});return i.observe(document,{childList:!0,subtree:!0}),i}function I7(e,t,c){let a=e.canvas,i=new MutationObserver(r=>{let n=!1;for(let l of r)n=n||S4(l.removedNodes,a),n=n&&!S4(l.addedNodes,a);n&&c()});return i.observe(document,{childList:!0,subtree:!0}),i}var R2=new Map,d0=0;function G0(){let e=window.devicePixelRatio;e!==d0&&(d0=e,R2.forEach((t,c)=>{c.currentDevicePixelRatio!==e&&t()}))}function Z7(e,t){R2.size||window.addEventListener("resize",G0),R2.set(e,t)}function N7(e){R2.delete(e),R2.size||window.removeEventListener("resize",G0)}function W7(e,t,c){let a=e.canvas,i=a&&z4(a);if(!i)return;let r=l3((l,h)=>{let s=i.clientWidth;c(l,h),s<i.clientWidth&&c()},window),n=new ResizeObserver(l=>{let h=l[0],s=h.contentRect.width,o=h.contentRect.height;s===0&&o===0||r(s,o)});return n.observe(i),Z7(e,r),n}function b3(e,t,c){c&&c.disconnect(),t==="resize"&&N7(e)}function j7(e,t,c){let a=e.canvas,i=l3(r=>{e.ctx!==null&&c(O7(r,e))},e);return R7(a,t,i),i}var k3=class extends B4{acquireContext(t,c){let a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(D7(t,c),a):null}releaseContext(t){let c=t.canvas;if(!c[L4])return!1;let a=c[L4].initial;["height","width"].forEach(r=>{let n=a[r];y(n)?c.removeAttribute(r):c.setAttribute(r,n)});let i=a.style||{};return Object.keys(i).forEach(r=>{c.style[r]=i[r]}),c.width=c.width,delete c[L4],!0}addEventListener(t,c,a){this.removeEventListener(t,c);let i=t.$proxies||(t.$proxies={}),n={attach:E7,detach:I7,resize:W7}[c]||j7;i[c]=n(t,c,a)}removeEventListener(t,c){let a=t.$proxies||(t.$proxies={}),i=a[c];if(!i)return;({attach:b3,detach:b3,resize:b3}[c]||T7)(t,c,i),a[c]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,c,a,i){return Y6(t,c,a,i)}isAttached(t){let c=t&&z4(t);return!!(c&&c.isConnected)}};function U7(e){return!p4()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?_3:k3}var z1=class{x;y;active=!1;options;$animations;tooltipPosition(t){let{x:c,y:a}=this.getProps(["x","y"],t);return{x:c,y:a}}hasValue(){return w2(this.x)&&w2(this.y)}getProps(t,c){let a=this.$animations;if(!c||!a)return this;let i={};return t.forEach(r=>{i[r]=a[r]&&a[r].active()?a[r]._to:this[r]}),i}};b(z1,"defaults",{}),b(z1,"defaultRoutes");function G7(e,t){let c=e.options.ticks,a=q7(e),i=Math.min(c.maxTicksLimit||a,a),r=c.major.enabled?$7(t):[],n=r.length,l=r[0],h=r[n-1],s=[];if(n>i)return X7(t,s,r,n/i),s;let o=Y7(r,t,i);if(n>0){let d,v,g=n>1?Math.round((h-l)/(n-1)):null;for(x4(t,s,o,y(g)?0:l-g,l),d=0,v=n-1;d<v;d++)x4(t,s,o,r[d],r[d+1]);return x4(t,s,o,h,y(g)?t.length:h+g),s}return x4(t,s,o),s}function q7(e){let t=e.options.offset,c=e._tickSize(),a=e._length/c+(t?0:1),i=e._maxLength/c;return Math.floor(Math.min(a,i))}function Y7(e,t,c){let a=K7(e),i=t.length/c;if(!a)return Math.max(i,1);let r=S6(a);for(let n=0,l=r.length-1;n<l;n++){let h=r[n];if(h>i)return h}return Math.max(i,1)}function $7(e){let t=[],c,a;for(c=0,a=e.length;c<a;c++)e[c].major&&t.push(c);return t}function X7(e,t,c,a){let i=0,r=c[0],n;for(a=Math.ceil(a),n=0;n<e.length;n++)n===r&&(t.push(e[n]),i++,r=c[i*a])}function x4(e,t,c,a,i){let r=S(a,0),n=Math.min(S(i,e.length),e.length),l=0,h,s,o;for(c=Math.ceil(c),i&&(h=i-a,c=h/Math.floor(h/c)),o=r;o<0;)l++,o=Math.round(r+l*c);for(s=Math.max(r,0);s<n;s++)s===o&&(t.push(e[s]),l++,o=Math.round(r+l*c))}function K7(e){let t=e.length,c,a;if(t<2)return!1;for(a=e[0],c=1;c<t;++c)if(e[c]-e[c-1]!==a)return!1;return a}var J7=e=>e==="left"?"right":e==="right"?"left":e,v0=(e,t,c)=>t==="top"||t==="left"?e[t]+c:e[t]-c,g0=(e,t)=>Math.min(t||e,e);function u0(e,t){let c=[],a=e.length/t,i=e.length,r=0;for(;r<i;r+=a)c.push(e[Math.floor(r)]);return c}function Q7(e,t,c){let a=e.ticks.length,i=Math.min(t,a-1),r=e._startPixel,n=e._endPixel,l=1e-6,h=e.getPixelForTick(i),s;if(!(c&&(a===1?s=Math.max(h-r,n-h):t===0?s=(e.getPixelForTick(1)-h)/2:s=(h-e.getPixelForTick(i-1))/2,h+=i<t?s:-s,h<r-l||h>n+l)))return h}function t9(e,t){_(e,c=>{let a=c.gc,i=a.length/2,r;if(i>t){for(r=0;r<i;++r)delete c.data[a[r]];a.splice(0,i)}})}function y2(e){return e.drawTicks?e.tickLength:0}function p0(e,t){if(!e.display)return 0;let c=Z(e.font,t),a=Y(e.padding);return(D(e.text)?e.text.length:1)*c.lineHeight+a.height}function c9(e,t){return k1(e,{scale:t,type:"scale"})}function e9(e,t,c){return k1(e,{tick:c,index:t,type:"tick"})}function a9(e,t,c){let a=s4(e);return(c&&t!=="right"||!c&&t==="right")&&(a=J7(a)),a}function i9(e,t,c,a){let{top:i,left:r,bottom:n,right:l,chart:h}=e,{chartArea:s,scales:o}=h,d=0,v,g,z,u=n-i,p=l-r;if(e.isHorizontal()){if(g=q(a,r,l),B(c)){let f=Object.keys(c)[0],m=c[f];z=o[f].getPixelForValue(m)+u-t}else c==="center"?z=(s.bottom+s.top)/2+u-t:z=v0(e,c,t);v=l-r}else{if(B(c)){let f=Object.keys(c)[0],m=c[f];g=o[f].getPixelForValue(m)-p+t}else c==="center"?g=(s.left+s.right)/2-p+t:g=v0(e,c,t);z=q(a,n,i),d=c==="left"?-t1:t1}return{titleX:g,titleY:z,maxWidth:v,rotation:d}}var w1=class extends z1{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,c){return t}getUserBounds(){let{_userMin:t,_userMax:c,_suggestedMin:a,_suggestedMax:i}=this;return t=c1(t,Number.POSITIVE_INFINITY),c=c1(c,Number.NEGATIVE_INFINITY),a=c1(a,Number.POSITIVE_INFINITY),i=c1(i,Number.NEGATIVE_INFINITY),{min:c1(t,a),max:c1(c,i),minDefined:W(t),maxDefined:W(c)}}getMinMax(t){let{min:c,max:a,minDefined:i,maxDefined:r}=this.getUserBounds(),n;if(i&&r)return{min:c,max:a};let l=this.getMatchingVisibleMetas();for(let h=0,s=l.length;h<s;++h)n=l[h].controller.getMinMax(this,t),i||(c=Math.min(c,n.min)),r||(a=Math.max(a,n.max));return c=r&&c>a?a:c,a=i&&c>a?c:a,{min:c1(c,c1(a,c)),max:c1(a,c1(c,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){P(this.options.beforeUpdate,[this])}update(t,c,a){let{beginAtZero:i,grace:r,ticks:n}=this.options,l=n.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=c,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j6(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let h=l<this.ticks.length;this._convertTicksToLabels(h?u0(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||n.source==="auto")&&(this.ticks=G7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,c,a;this.isHorizontal()?(c=this.left,a=this.right):(c=this.top,a=this.bottom,t=!t),this._startPixel=c,this._endPixel=a,this._reversePixels=t,this._length=a-c,this._alignToPixels=this.options.alignToPixels}afterUpdate(){P(this.options.afterUpdate,[this])}beforeSetDimensions(){P(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){P(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),P(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){P(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let c=this.options.ticks,a,i,r;for(a=0,i=t.length;a<i;a++)r=t[a],r.label=P(c.callback,[r.value,a,t],this)}afterTickToLabelConversion(){P(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){P(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,c=t.ticks,a=g0(this.ticks.length,t.ticks.maxTicksLimit),i=c.minRotation||0,r=c.maxRotation,n=i,l,h,s;if(!this._isVisible()||!c.display||i>=r||a<=1||!this.isHorizontal()){this.labelRotation=i;return}let o=this._getLabelSizes(),d=o.widest.width,v=o.highest.height,g=h1(this.chart.width-d,0,this.maxWidth);l=t.offset?this.maxWidth/a:g/(a-1),d+6>l&&(l=g/(a-(t.offset?.5:1)),h=this.maxHeight-y2(t.grid)-c.padding-p0(t.title,this.chart.options.font),s=Math.sqrt(d*d+v*v),n=n4(Math.min(Math.asin(h1((o.highest.height+6)/l,-1,1)),Math.asin(h1(h/s,-1,1))-Math.asin(h1(v/s,-1,1)))),n=Math.max(i,Math.min(r,n))),this.labelRotation=n}afterCalculateLabelRotation(){P(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){P(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:c,options:{ticks:a,title:i,grid:r}}=this,n=this._isVisible(),l=this.isHorizontal();if(n){let h=p0(i,c.options.font);if(l?(t.width=this.maxWidth,t.height=y2(r)+h):(t.height=this.maxHeight,t.width=y2(r)+h),a.display&&this.ticks.length){let{first:s,last:o,widest:d,highest:v}=this._getLabelSizes(),g=a.padding*2,z=H1(this.labelRotation),u=Math.cos(z),p=Math.sin(z);if(l){let f=a.mirror?0:p*d.width+u*v.height;t.height=Math.min(this.maxHeight,t.height+f+g)}else{let f=a.mirror?0:u*d.width+p*v.height;t.width=Math.min(this.maxWidth,t.width+f+g)}this._calculatePadding(s,o,p,u)}}this._handleMargins(),l?(this.width=this._length=c.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=c.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,c,a,i){let{ticks:{align:r,padding:n},position:l}=this.options,h=this.labelRotation!==0,s=l!=="top"&&this.axis==="x";if(this.isHorizontal()){let o=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),v=0,g=0;h?s?(v=i*t.width,g=a*c.height):(v=a*t.height,g=i*c.width):r==="start"?g=c.width:r==="end"?v=t.width:r!=="inner"&&(v=t.width/2,g=c.width/2),this.paddingLeft=Math.max((v-o+n)*this.width/(this.width-o),0),this.paddingRight=Math.max((g-d+n)*this.width/(this.width-d),0)}else{let o=c.height/2,d=t.height/2;r==="start"?(o=0,d=t.height):r==="end"&&(o=c.height,d=0),this.paddingTop=o+n,this.paddingBottom=d+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){P(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:c}=this.options;return c==="top"||c==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let c,a;for(c=0,a=t.length;c<a;c++)y(t[c].label)&&(t.splice(c,1),a--,c--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let c=this.options.ticks.sampleSize,a=this.ticks;c<a.length&&(a=u0(a,c)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,c,a){let{ctx:i,_longestTextCache:r}=this,n=[],l=[],h=Math.floor(c/g0(c,a)),s=0,o=0,d,v,g,z,u,p,f,m,x,H,M;for(d=0;d<c;d+=h){if(z=t[d].label,u=this._resolveTickFontOptions(d),i.font=p=u.string,f=r[p]=r[p]||{data:{},gc:[]},m=u.lineHeight,x=H=0,!y(z)&&!D(z))x=H2(i,f.data,f.gc,x,z),H=m;else if(D(z))for(v=0,g=z.length;v<g;++v)M=z[v],!y(M)&&!D(M)&&(x=H2(i,f.data,f.gc,x,M),H+=m);n.push(x),l.push(H),s=Math.max(x,s),o=Math.max(H,o)}t9(r,c);let C=n.indexOf(s),w=l.indexOf(o),V=L=>({width:n[L]||0,height:l[L]||0});return{first:V(0),last:V(c-1),widest:V(C),highest:V(w),widths:n,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,c){return NaN}getValueForPixel(t){}getPixelForTick(t){let c=this.ticks;return t<0||t>c.length-1?null:this.getPixelForValue(c[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let c=this._startPixel+t*this._length;return P6(this._alignToPixels?y1(this.chart,c,0):c)}getDecimalForPixel(t){let c=(t-this._startPixel)/this._length;return this._reversePixels?1-c:c}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:c}=this;return t<0&&c<0?c:t>0&&c>0?t:0}getContext(t){let c=this.ticks||[];if(t>=0&&t<c.length){let a=c[t];return a.$context||(a.$context=e9(this.getContext(),t,a))}return this.$context||(this.$context=c9(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,c=H1(this.labelRotation),a=Math.abs(Math.cos(c)),i=Math.abs(Math.sin(c)),r=this._getLabelSizes(),n=t.autoSkipPadding||0,l=r?r.widest.width+n:0,h=r?r.highest.height+n:0;return this.isHorizontal()?h*a>l*i?l/a:h/i:h*i<l*a?h/a:l/i}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let c=this.axis,a=this.chart,i=this.options,{grid:r,position:n,border:l}=i,h=r.offset,s=this.isHorizontal(),d=this.ticks.length+(h?1:0),v=y2(r),g=[],z=l.setContext(this.getContext()),u=z.display?z.width:0,p=u/2,f=function(j){return y1(a,j,u)},m,x,H,M,C,w,V,L,k,F,A,K;if(n==="top")m=f(this.bottom),w=this.bottom-v,L=m-p,F=f(t.top)+p,K=t.bottom;else if(n==="bottom")m=f(this.top),F=t.top,K=f(t.bottom)-p,w=m+p,L=this.top+v;else if(n==="left")m=f(this.right),C=this.right-v,V=m-p,k=f(t.left)+p,A=t.right;else if(n==="right")m=f(this.left),k=t.left,A=f(t.right)-p,C=m+p,V=this.left+v;else if(c==="x"){if(n==="center")m=f((t.top+t.bottom)/2+.5);else if(B(n)){let j=Object.keys(n)[0],r1=n[j];m=f(this.chart.scales[j].getPixelForValue(r1))}F=t.top,K=t.bottom,w=m+p,L=w+v}else if(c==="y"){if(n==="center")m=f((t.left+t.right)/2);else if(B(n)){let j=Object.keys(n)[0],r1=n[j];m=f(this.chart.scales[j].getPixelForValue(r1))}C=m-p,V=C-v,k=t.left,A=t.right}let d1=S(i.ticks.maxTicksLimit,d),O=Math.max(1,Math.ceil(d/d1));for(x=0;x<d;x+=O){let j=this.getContext(x),r1=r.setContext(j),E2=l.setContext(j),I2=r1.lineWidth,X1=r1.color,Z2=E2.dash||[],K1=E2.dashOffset,g2=r1.tickWidth,R1=r1.tickColor,u2=r1.tickBorderDash||[],T1=r1.tickBorderDashOffset;H=Q7(this,x,h),H!==void 0&&(M=y1(a,H,I2),s?C=V=k=A=M:w=L=F=K=M,g.push({tx1:C,ty1:w,tx2:V,ty2:L,x1:k,y1:F,x2:A,y2:K,width:I2,color:X1,borderDash:Z2,borderDashOffset:K1,tickWidth:g2,tickColor:R1,tickBorderDash:u2,tickBorderDashOffset:T1}))}return this._ticksLength=d,this._borderValue=m,g}_computeLabelItems(t){let c=this.axis,a=this.options,{position:i,ticks:r}=a,n=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:s,padding:o,mirror:d}=r,v=y2(a.grid),g=v+o,z=d?-o:g,u=-H1(this.labelRotation),p=[],f,m,x,H,M,C,w,V,L,k,F,A,K="middle";if(i==="top")C=this.bottom-z,w=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+z,w=this._getXAxisLabelAlignment();else if(i==="left"){let O=this._getYAxisLabelAlignment(v);w=O.textAlign,M=O.x}else if(i==="right"){let O=this._getYAxisLabelAlignment(v);w=O.textAlign,M=O.x}else if(c==="x"){if(i==="center")C=(t.top+t.bottom)/2+g;else if(B(i)){let O=Object.keys(i)[0],j=i[O];C=this.chart.scales[O].getPixelForValue(j)+g}w=this._getXAxisLabelAlignment()}else if(c==="y"){if(i==="center")M=(t.left+t.right)/2-g;else if(B(i)){let O=Object.keys(i)[0],j=i[O];M=this.chart.scales[O].getPixelForValue(j)}w=this._getYAxisLabelAlignment(v).textAlign}c==="y"&&(h==="start"?K="top":h==="end"&&(K="bottom"));let d1=this._getLabelSizes();for(f=0,m=l.length;f<m;++f){x=l[f],H=x.label;let O=r.setContext(this.getContext(f));V=this.getPixelForTick(f)+r.labelOffset,L=this._resolveTickFontOptions(f),k=L.lineHeight,F=D(H)?H.length:1;let j=F/2,r1=O.color,E2=O.textStrokeColor,I2=O.textStrokeWidth,X1=w;n?(M=V,w==="inner"&&(f===m-1?X1=this.options.reverse?"left":"right":f===0?X1=this.options.reverse?"right":"left":X1="center"),i==="top"?s==="near"||u!==0?A=-F*k+k/2:s==="center"?A=-d1.highest.height/2-j*k+k:A=-d1.highest.height+k/2:s==="near"||u!==0?A=k/2:s==="center"?A=d1.highest.height/2-j*k:A=d1.highest.height-F*k,d&&(A*=-1),u!==0&&!O.showLabelBackdrop&&(M+=k/2*Math.sin(u))):(C=V,A=(1-F)*k/2);let Z2;if(O.showLabelBackdrop){let K1=Y(O.backdropPadding),g2=d1.heights[f],R1=d1.widths[f],u2=A-K1.top,T1=0-K1.left;switch(K){case"middle":u2-=g2/2;break;case"bottom":u2-=g2;break}switch(w){case"center":T1-=R1/2;break;case"right":T1-=R1;break;case"inner":f===m-1?T1-=R1:f>0&&(T1-=R1/2);break}Z2={left:T1,top:u2,width:R1+K1.width,height:g2+K1.height,color:O.backdropColor}}p.push({label:H,font:L,textOffset:A,options:{rotation:u,color:r1,strokeColor:E2,strokeWidth:I2,textAlign:X1,textBaseline:K,translation:[M,C],backdrop:Z2}})}return p}_getXAxisLabelAlignment(){let{position:t,ticks:c}=this.options;if(-H1(this.labelRotation))return t==="top"?"left":"right";let i="center";return c.align==="start"?i="left":c.align==="end"?i="right":c.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){let{position:c,ticks:{crossAlign:a,mirror:i,padding:r}}=this.options,n=this._getLabelSizes(),l=t+r,h=n.widest.width,s,o;return c==="left"?i?(o=this.right+r,a==="near"?s="left":a==="center"?(s="center",o+=h/2):(s="right",o+=h)):(o=this.right-l,a==="near"?s="right":a==="center"?(s="center",o-=h/2):(s="left",o=this.left)):c==="right"?i?(o=this.left+r,a==="near"?s="right":a==="center"?(s="center",o-=h/2):(s="left",o-=h)):(o=this.left+l,a==="near"?s="left":a==="center"?(s="center",o+=h/2):(s="right",o=this.right)):s="right",{textAlign:s,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,c=this.options.position;if(c==="left"||c==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(c==="top"||c==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:c},left:a,top:i,width:r,height:n}=this;c&&(t.save(),t.fillStyle=c,t.fillRect(a,i,r,n),t.restore())}getLineWidthForValue(t){let c=this.options.grid;if(!this._isVisible()||!c.display)return 0;let i=this.ticks.findIndex(r=>r.value===t);return i>=0?c.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){let c=this.options.grid,a=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,n,l=(h,s,o)=>{!o.width||!o.color||(a.save(),a.lineWidth=o.width,a.strokeStyle=o.color,a.setLineDash(o.borderDash||[]),a.lineDashOffset=o.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(s.x,s.y),a.stroke(),a.restore())};if(c.display)for(r=0,n=i.length;r<n;++r){let h=i[r];c.drawOnChartArea&&l({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),c.drawTicks&&l({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:c,options:{border:a,grid:i}}=this,r=a.setContext(this.getContext()),n=a.display?r.width:0;if(!n)return;let l=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue,s,o,d,v;this.isHorizontal()?(s=y1(t,this.left,n)-n/2,o=y1(t,this.right,l)+l/2,d=v=h):(d=y1(t,this.top,n)-n/2,v=y1(t,this.bottom,l)+l/2,s=o=h),c.save(),c.lineWidth=r.width,c.strokeStyle=r.color,c.beginPath(),c.moveTo(s,d),c.lineTo(o,v),c.stroke(),c.restore()}drawLabels(t){if(!this.options.ticks.display)return;let a=this.ctx,i=this._computeLabelArea();i&&v4(a,i);let r=this.getLabelItems(t);for(let n of r){let l=n.options,h=n.font,s=n.label,o=n.textOffset;A1(a,s,0,o,h,l)}i&&g4(a)}drawTitle(){let{ctx:t,options:{position:c,title:a,reverse:i}}=this;if(!a.display)return;let r=Z(a.font),n=Y(a.padding),l=a.align,h=r.lineHeight/2;c==="bottom"||c==="center"||B(c)?(h+=n.bottom,D(a.text)&&(h+=r.lineHeight*(a.text.length-1))):h+=n.top;let{titleX:s,titleY:o,maxWidth:d,rotation:v}=i9(this,h,c,l);A1(t,a.text,0,0,r,{color:a.color,maxWidth:d,rotation:v,textAlign:a9(l,c,i),textBaseline:"middle",translation:[s,o]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,c=t.ticks&&t.ticks.z||0,a=S(t.grid&&t.grid.z,-1),i=S(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==w1.prototype.draw?[{z:c,draw:r=>{this.draw(r)}}]:[{z:a,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:c,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let c=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",i=[],r,n;for(r=0,n=c.length;r<n;++r){let l=c[r];l[a]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){let c=this.options.ticks.setContext(this.getContext(t));return Z(c.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},h2=class{constructor(t,c,a){this.type=t,this.scope=c,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let c=Object.getPrototypeOf(t),a;l9(c)&&(a=this.register(c));let i=this.items,r=t.id,n=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,r9(t,n,a),this.override&&T.override(t.id,t.overrides)),n}get(t){return this.items[t]}unregister(t){let c=this.items,a=t.id,i=this.scope;a in c&&delete c[a],i&&a in T[i]&&(delete T[i][a],this.override&&delete S1[a])}};function r9(e,t,c){let a=a2(Object.create(null),[c?T.get(c):{},T.get(t),e.defaults]);T.set(t,a),e.defaultRoutes&&n9(t,e.defaultRoutes),e.descriptors&&T.describe(t,e.descriptors)}function n9(e,t){Object.keys(t).forEach(c=>{let a=c.split("."),i=a.pop(),r=[e].concat(a).join("."),n=t[c].split("."),l=n.pop(),h=n.join(".");T.route(r,i,h,l)})}function l9(e){return"id"in e&&"defaults"in e}var P3=class{constructor(){this.controllers=new h2(q1,"datasets",!0),this.elements=new h2(z1,"elements"),this.plugins=new h2(Object,"plugins"),this.scales=new h2(w1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,c,a){[...c].forEach(i=>{let r=a||this._getRegistryForType(i);a||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):_(i,n=>{let l=a||this._getRegistryForType(n);this._exec(t,l,n)})})}_exec(t,c,a){let i=r4(t);P(a["before"+i],[],a),c[t](a),P(a["after"+i],[],a)}_getRegistryForType(t){for(let c=0;c<this._typedRegistries.length;c++){let a=this._typedRegistries[c];if(a.isForType(t))return a}return this.plugins}_get(t,c,a){let i=c.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return i}},p1=new P3,D3=class{constructor(){this._init=[]}notify(t,c,a,i){c==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=i?this._descriptors(t).filter(i):this._descriptors(t),n=this._notify(r,t,c,a);return c==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),n}_notify(t,c,a,i){i=i||{};for(let r of t){let n=r.plugin,l=n[a],h=[c,i,r.options];if(P(l,h,n)===!1&&i.cancelable)return!1}return!0}invalidate(){y(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let c=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),c}_createDescriptors(t,c){let a=t&&t.config,i=S(a.options&&a.options.plugins,{}),r=h9(a);return i===!1&&!c?[]:o9(t,r,i,c)}_notifyStateChanges(t){let c=this._oldCache||[],a=this._cache,i=(r,n)=>r.filter(l=>!n.some(h=>l.plugin.id===h.plugin.id));this._notify(i(c,a),t,"stop"),this._notify(i(a,c),t,"start")}};function h9(e){let t={},c=[],a=Object.keys(p1.plugins.items);for(let r=0;r<a.length;r++)c.push(p1.getPlugin(a[r]));let i=e.plugins||[];for(let r=0;r<i.length;r++){let n=i[r];c.indexOf(n)===-1&&(c.push(n),t[n.id]=!0)}return{plugins:c,localIds:t}}function s9(e,t){return!t&&e===!1?null:e===!0?{}:e}function o9(e,{plugins:t,localIds:c},a,i){let r=[],n=e.getContext();for(let l of t){let h=l.id,s=s9(a[h],i);s!==null&&r.push({plugin:l,options:d9(e.config,{plugin:l,local:c[h]},s,n)})}return r}function d9(e,{plugin:t,local:c},a,i){let r=e.pluginScopeKeys(t),n=e.getOptionScopes(a,r);return c&&t.defaults&&n.push(t.defaults),e.createResolver(n,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function R3(e,t){let c=T.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||c.indexAxis||"x"}function v9(e,t){let c=e;return e==="_index_"?c=t:e==="_value_"&&(c=t==="x"?"y":"x"),c}function g9(e,t){return e===t?"_index_":"_value_"}function z0(e){if(e==="x"||e==="y"||e==="r")return e}function u9(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function T3(e,...t){if(z0(e))return e;for(let c of t){let a=c.axis||u9(c.position)||e.length>1&&z0(e[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function f0(e,t,c){if(c[t+"AxisID"]===e)return{axis:t}}function p9(e,t){if(t.data&&t.data.datasets){let c=t.data.datasets.filter(a=>a.xAxisID===e||a.yAxisID===e);if(c.length)return f0(e,"x",c[0])||f0(e,"y",c[0])}return{}}function z9(e,t){let c=S1[e.type]||{scales:{}},a=t.scales||{},i=R3(e.type,t),r=Object.create(null);return Object.keys(a).forEach(n=>{let l=a[n];if(!B(l))return console.error(`Invalid scale configuration for scale: ${n}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${n}`);let h=T3(n,l,p9(n,e),T.scales[l.type]),s=g9(h,i),o=c.scales||{};r[n]=i2(Object.create(null),[{axis:h},l,o[h],o[s]])}),e.data.datasets.forEach(n=>{let l=n.type||e.type,h=n.indexAxis||R3(l,t),o=(S1[l]||{}).scales||{};Object.keys(o).forEach(d=>{let v=v9(d,h),g=n[v+"AxisID"]||v;r[g]=r[g]||Object.create(null),i2(r[g],[{axis:v},a[g],o[d]])})}),Object.keys(r).forEach(n=>{let l=r[n];i2(l,[T.scales[l.type],T.scale])}),r}function q0(e){let t=e.options||(e.options={});t.plugins=S(t.plugins,{}),t.scales=z9(e,t)}function Y0(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function f9(e){return e=e||{},e.data=Y0(e.data),q0(e),e}var m0=new Map,$0=new Set;function M4(e,t){let c=m0.get(e);return c||(c=t(),m0.set(e,c),$0.add(c)),c}var A2=(e,t,c)=>{let a=Z1(t,c);a!==void 0&&e.add(a)},O3=class{constructor(t){this._config=f9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Y0(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),q0(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return M4(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,c){return M4(`${t}.transition.${c}`,()=>[[`datasets.${t}.transitions.${c}`,`transitions.${c}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,c){return M4(`${t}-${c}`,()=>[[`datasets.${t}.elements.${c}`,`datasets.${t}`,`elements.${c}`,""]])}pluginScopeKeys(t){let c=t.id,a=this.type;return M4(`${a}-plugin-${c}`,()=>[[`plugins.${c}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,c){let a=this._scopeCache,i=a.get(t);return(!i||c)&&(i=new Map,a.set(t,i)),i}getOptionScopes(t,c,a){let{options:i,type:r}=this,n=this._cachedScopes(t,a),l=n.get(c);if(l)return l;let h=new Set;c.forEach(o=>{t&&(h.add(t),o.forEach(d=>A2(h,t,d))),o.forEach(d=>A2(h,i,d)),o.forEach(d=>A2(h,S1[r]||{},d)),o.forEach(d=>A2(h,T,d)),o.forEach(d=>A2(h,d4,d))});let s=Array.from(h);return s.length===0&&s.push(Object.create(null)),$0.has(c)&&n.set(c,s),s}chartOptionScopes(){let{options:t,type:c}=this;return[t,S1[c]||{},T.datasets[c]||{},{type:c},T,d4]}resolveNamedOptions(t,c,a,i=[""]){let r={$shared:!0},{resolver:n,subPrefixes:l}=x0(this._resolverCache,t,i),h=n;if(x9(n,c)){r.$shared=!1,a=m1(a)?a():a;let s=this.createResolver(t,a,l);h=I1(n,a,s)}for(let s of c)r[s]=h[s];return r}createResolver(t,c,a=[""],i){let{resolver:r}=x0(this._resolverCache,t,a);return B(c)?I1(r,c,void 0,i):r}};function x0(e,t,c){let a=e.get(t);a||(a=new Map,e.set(t,a));let i=c.join(),r=a.get(i);return r||(r={resolver:u4(t,c),subPrefixes:c.filter(l=>!l.toLowerCase().includes("hover"))},a.set(i,r)),r}var m9=e=>B(e)&&Object.getOwnPropertyNames(e).some(t=>m1(e[t]));function x9(e,t){let{isScriptable:c,isIndexable:a}=u3(e);for(let i of t){let r=c(i),n=a(i),l=(n||r)&&e[i];if(r&&(m1(l)||m9(l))||n&&D(l))return!0}return!1}var M9="4.4.9",H9=["top","bottom","left","right","chartArea"];function M0(e,t){return e==="top"||e==="bottom"||H9.indexOf(e)===-1&&t==="x"}function H0(e,t){return function(c,a){return c[e]===a[e]?c[t]-a[t]:c[e]-a[e]}}function C0(e){let t=e.chart,c=t.options.animation;t.notifyPlugins("afterRender"),P(c&&c.onComplete,[e],t)}function C9(e){let t=e.chart,c=t.options.animation;P(c&&c.onProgress,[e],t)}function X0(e){return p4()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var F4={},V0=e=>{let t=X0(e);return Object.values(F4).filter(c=>c.canvas===t).pop()};function V9(e,t,c){let a=Object.keys(e);for(let i of a){let r=+i;if(r>=t){let n=e[i];delete e[i],(c>0||r>t)&&(e[r+c]=n)}}}function w9(e,t,c,a){return!c||e.type==="mouseout"?null:a?t:e}var a1=class{static register(...t){p1.add(...t),w0()}static unregister(...t){p1.remove(...t),w0()}constructor(t,c){let a=this.config=new O3(c),i=X0(t),r=V0(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let n=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||U7(i)),this.platform.updateConfig(a);let l=this.platform.acquireContext(i,n.aspectRatio),h=l&&l.canvas,s=h&&h.height,o=h&&h.width;if(this.id=L6(),this.ctx=l,this.canvas=h,this.width=o,this.height=s,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new D3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=E6(d=>this.update(d),n.resizeDelay||0),this._dataChanges=[],F4[this.id]=this,!l||!h){console.error("Failed to create chart: can't acquire context from the given item");return}C1.listen(this,"complete",C0),C1.listen(this,"progress",C9),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:c},width:a,height:i,_aspectRatio:r}=this;return y(t)?c&&r?r:i?a/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return p1}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():f3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return s3(this.canvas,this.ctx),this}stop(){return C1.stop(this),this}resize(t,c){C1.running(this)?this._resizeBeforeDraw={width:t,height:c}:this._resize(t,c)}_resize(t,c){let a=this.options,i=this.canvas,r=a.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(i,t,c,r),l=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,f3(this,l,!0)&&(this.notifyPlugins("resize",{size:n}),P(a.onResize,[this,n],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){let c=this.options.scales||{};_(c,(a,i)=>{a.id=i})}buildOrUpdateScales(){let t=this.options,c=t.scales,a=this.scales,i=Object.keys(a).reduce((n,l)=>(n[l]=!1,n),{}),r=[];c&&(r=r.concat(Object.keys(c).map(n=>{let l=c[n],h=T3(n,l),s=h==="r",o=h==="x";return{options:l,dposition:s?"chartArea":o?"bottom":"left",dtype:s?"radialLinear":o?"category":"linear"}}))),_(r,n=>{let l=n.options,h=l.id,s=T3(h,l),o=S(l.type,n.dtype);(l.position===void 0||M0(l.position,s)!==M0(n.dposition))&&(l.position=n.dposition),i[h]=!0;let d=null;if(h in a&&a[h].type===o)d=a[h];else{let v=p1.getScale(o);d=new v({id:h,type:o,ctx:this.ctx,chart:this}),a[d.id]=d}d.init(l,t)}),_(i,(n,l)=>{n||delete a[l]}),_(a,n=>{s1.configure(this,n,n.options),s1.addBox(this,n)})}_updateMetasets(){let t=this._metasets,c=this.data.datasets.length,a=t.length;if(t.sort((i,r)=>i.index-r.index),a>c){for(let i=c;i<a;++i)this._destroyDatasetMeta(i);t.splice(c,a-c)}this._sortedMetasets=t.slice(0).sort(H0("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:c}}=this;t.length>c.length&&delete this._stacks,t.forEach((a,i)=>{c.filter(r=>r===a._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let t=[],c=this.data.datasets,a,i;for(this._removeUnreferencedMetasets(),a=0,i=c.length;a<i;a++){let r=c[a],n=this.getDatasetMeta(a),l=r.type||this.config.type;if(n.type&&n.type!==l&&(this._destroyDatasetMeta(a),n=this.getDatasetMeta(a)),n.type=l,n.indexAxis=r.indexAxis||R3(l,this.options),n.order=r.order||0,n.index=a,n.label=""+r.label,n.visible=this.isDatasetVisible(a),n.controller)n.controller.updateIndex(a),n.controller.linkScales();else{let h=p1.getController(l),{datasetElementType:s,dataElementType:o}=T.datasets[l];Object.assign(h,{dataElementType:p1.getElement(o),datasetElementType:s&&p1.getElement(s)}),n.controller=new h(this,a),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){_(this.data.datasets,(t,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let c=this.config;c.update();let a=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let s=0,o=this.data.datasets.length;s<o;s++){let{controller:d}=this.getDatasetMeta(s),v=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(v),n=Math.max(+d.getMaxOverflow(),n)}n=this._minPadding=a.layout.autoPadding?n:0,this._updateLayout(n),i||_(r,s=>{s.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(H0("z","_idx"));let{_active:l,_lastEvent:h}=this;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){_(this.scales,t=>{s1.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,c=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!t3(c,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,c=this._getUniformDataChanges()||[];for(let{method:a,start:i,count:r}of c){let n=a==="_removeElements"?-r:r;V9(t,i,n)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let c=this.data.datasets.length,a=r=>new Set(t.filter(n=>n[0]===r).map((n,l)=>l+","+n.splice(1).join(","))),i=a(0);for(let r=1;r<c;r++)if(!t3(i,a(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;s1.update(this,this.width,this.height,t);let c=this.chartArea,a=c.width<=0||c.height<=0;this._layers=[],_(this.boxes,i=>{a&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let c=0,a=this.data.datasets.length;c<a;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,a=this.data.datasets.length;c<a;++c)this._updateDataset(c,m1(t)?t({datasetIndex:c}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,c){let a=this.getDatasetMeta(t),i={meta:a,index:t,mode:c,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(a.controller._update(c),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(C1.has(this)?this.attached&&!C1.running(this)&&C1.start(this):(this.draw(),C0({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:a,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let c=this._layers;for(t=0;t<c.length&&c[t].z<=0;++t)c[t].draw(this.chartArea);for(this._drawDatasets();t<c.length;++t)c[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let c=this._sortedMetasets,a=[],i,r;for(i=0,r=c.length;i<r;++i){let n=c[i];(!t||n.visible)&&a.push(n)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let c=t.length-1;c>=0;--c)this._drawDataset(t[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let c=this.ctx,a={meta:t,index:t.index,cancelable:!0},i=X6(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&v4(c,i),t.controller.draw(),i&&g4(c),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return W1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,c,a,i){let r=F7.modes[c];return typeof r=="function"?r(this,t,a,i):[]}getDatasetMeta(t){let c=this.data.datasets[t],a=this._metasets,i=a.filter(r=>r&&r._dataset===c).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:t,_dataset:c,_parsed:[],_sorted:!1},a.push(i)),i}getContext(){return this.$context||(this.$context=k1(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let c=this.data.datasets[t];if(!c)return!1;let a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!c.hidden}setDatasetVisibility(t,c){let a=this.getDatasetMeta(t);a.hidden=!c}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,c,a){let i=a?"show":"hide",r=this.getDatasetMeta(t),n=r.controller._resolveAnimations(void 0,i);r2(c)?(r.data[c].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),n.update(r,{visible:a}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,c){this._updateVisibility(t,c,!1)}show(t,c){this._updateVisibility(t,c,!0)}_destroyDatasetMeta(t){let c=this._metasets[t];c&&c.controller&&c.controller._destroy(),delete this._metasets[t]}_stop(){let t,c;for(this.stop(),C1.remove(this),t=0,c=this.data.datasets.length;t<c;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:c}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),s3(t,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete F4[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,c=this.platform,a=(r,n)=>{c.addEventListener(this,r,n),t[r]=n},i=(r,n,l)=>{r.offsetX=n,r.offsetY=l,this._eventHandler(r)};_(this.options.events,r=>a(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,c=this.platform,a=(h,s)=>{c.addEventListener(this,h,s),t[h]=s},i=(h,s)=>{t[h]&&(c.removeEventListener(this,h,s),delete t[h])},r=(h,s)=>{this.canvas&&this.resize(h,s)},n,l=()=>{i("attach",l),this.attached=!0,this.resize(),a("resize",r),a("detach",n)};n=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),a("attach",l)},c.isAttached(this.canvas)?l():n()}unbindEvents(){_(this._listeners,(t,c)=>{this.platform.removeEventListener(this,c,t)}),this._listeners={},_(this._responsiveListeners,(t,c)=>{this.platform.removeEventListener(this,c,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,c,a){let i=a?"set":"remove",r,n,l,h;for(c==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,h=t.length;l<h;++l){n=t[l];let s=n&&this.getDatasetMeta(n.datasetIndex).controller;s&&s[i+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let c=this._active||[],a=t.map(({datasetIndex:r,index:n})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[n],index:n}});!C2(a,c)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,c))}notifyPlugins(t,c,a){return this._plugins.notify(this,t,c,a)}isPluginEnabled(t){return this._plugins._cache.filter(c=>c.plugin.id===t).length===1}_updateHoverStyles(t,c,a){let i=this.options.hover,r=(h,s)=>h.filter(o=>!s.some(d=>o.datasetIndex===d.datasetIndex&&o.index===d.index)),n=r(c,t),l=a?t:r(t,c);n.length&&this.updateHoverStyle(n,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,c){let a={event:t,replay:c,cancelable:!0,inChartArea:this.isPointInArea(t)},i=n=>(n.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,i)===!1)return;let r=this._handleEvent(t,c,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(r||a.changed)&&this.render(),this}_handleEvent(t,c,a){let{_active:i=[],options:r}=this,n=c,l=this._getActiveElements(t,i,a,n),h=B6(t),s=w9(t,this._lastEvent,a,h);a&&(this._lastEvent=null,P(r.onHover,[t,l,this],this),h&&P(r.onClick,[t,l,this],this));let o=!C2(l,i);return(o||c)&&(this._active=l,this._updateHoverStyles(l,i,c)),this._lastEvent=s,o}_getActiveElements(t,c,a,i){if(t.type==="mouseout")return[];if(!a)return c;let r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}};b(a1,"defaults",T),b(a1,"instances",F4),b(a1,"overrides",S1),b(a1,"registry",p1),b(a1,"version",M9),b(a1,"getChart",V0);function w0(){return _(a1.instances,e=>e._plugins.invalidate())}function K0(e,t){let{x:c,y:a,base:i,width:r,height:n}=e.getProps(["x","y","base","width","height"],t),l,h,s,o,d;return e.horizontal?(d=n/2,l=Math.min(c,i),h=Math.max(c,i),s=a-d,o=a+d):(d=r/2,l=c-d,h=c+d,s=Math.min(a,i),o=Math.max(a,i)),{left:l,top:s,right:h,bottom:o}}function D1(e,t,c,a){return e?0:h1(t,c,a)}function L9(e,t,c){let a=e.options.borderWidth,i=e.borderSkipped,r=g3(a);return{t:D1(i.top,r.top,0,c),r:D1(i.right,r.right,0,t),b:D1(i.bottom,r.bottom,0,c),l:D1(i.left,r.left,0,t)}}function F9(e,t,c){let{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=_1(i),n=Math.min(t,c),l=e.borderSkipped,h=a||B(i);return{topLeft:D1(!h||l.top||l.left,r.topLeft,0,n),topRight:D1(!h||l.top||l.right,r.topRight,0,n),bottomLeft:D1(!h||l.bottom||l.left,r.bottomLeft,0,n),bottomRight:D1(!h||l.bottom||l.right,r.bottomRight,0,n)}}function b9(e){let t=K0(e),c=t.right-t.left,a=t.bottom-t.top,i=L9(e,c/2,a/2),r=F9(e,c/2,a/2);return{outer:{x:t.left,y:t.top,w:c,h:a,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:c-i.l-i.r,h:a-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function B3(e,t,c,a){let i=t===null,r=c===null,l=e&&!(i&&r)&&K0(e,a);return l&&(i||N1(t,l.left,l.right))&&(r||N1(c,l.top,l.bottom))}function B9(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function S9(e,t){e.rect(t.x,t.y,t.w,t.h)}function S3(e,t,c={}){let a=e.x!==c.x?-t:0,i=e.y!==c.y?-t:0,r=(e.x+e.w!==c.x+c.w?t:0)-a,n=(e.y+e.h!==c.y+c.h?t:0)-i;return{x:e.x+a,y:e.y+i,w:e.w+r,h:e.h+n,radius:e.radius}}var $1=class extends z1{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:c,options:{borderColor:a,backgroundColor:i}}=this,{inner:r,outer:n}=b9(this),l=B9(n.radius)?n2:S9;t.save(),(n.w!==r.w||n.h!==r.h)&&(t.beginPath(),l(t,S3(n,c,r)),t.clip(),l(t,S3(r,-c,n)),t.fillStyle=a,t.fill("evenodd")),t.beginPath(),l(t,S3(r,c)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,c,a){return B3(this,t,c,a)}inXRange(t,c){return B3(this,t,null,c)}inYRange(t,c){return B3(this,null,t,c)}getCenterPoint(t){let{x:c,y:a,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(c+i)/2:c,y:r?a:(a+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};b($1,"id","bar"),b($1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),b($1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var L0=(e,t)=>{let{boxHeight:c=t,boxWidth:a=t}=e;return e.usePointStyle&&(c=Math.min(c,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:c,itemHeight:Math.max(t,c)}},y9=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,y4=class extends z1{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,c,a){this.maxWidth=t,this.maxHeight=c,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},c=P(t.generateLabels,[this.chart],this)||[];t.filter&&(c=c.filter(a=>t.filter(a,this.chart.data))),t.sort&&(c=c.sort((a,i)=>t.sort(a,i,this.chart.data))),this.options.reverse&&c.reverse(),this.legendItems=c}fit(){let{options:t,ctx:c}=this;if(!t.display){this.width=this.height=0;return}let a=t.labels,i=Z(a.font),r=i.size,n=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=L0(a,r),s,o;c.font=i.string,this.isHorizontal()?(s=this.maxWidth,o=this._fitRows(n,r,l,h)+10):(o=this.maxHeight,s=this._fitCols(n,i,l,h)+10),this.width=Math.min(s,t.maxWidth||this.maxWidth),this.height=Math.min(o,t.maxHeight||this.maxHeight)}_fitRows(t,c,a,i){let{ctx:r,maxWidth:n,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],s=this.lineWidths=[0],o=i+l,d=t;r.textAlign="left",r.textBaseline="middle";let v=-1,g=-o;return this.legendItems.forEach((z,u)=>{let p=a+c/2+r.measureText(z.text).width;(u===0||s[s.length-1]+p+2*l>n)&&(d+=o,s[s.length-(u>0?0:1)]=0,g+=o,v++),h[u]={left:0,top:g,row:v,width:p,height:i},s[s.length-1]+=p+l}),d}_fitCols(t,c,a,i){let{ctx:r,maxHeight:n,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],s=this.columnSizes=[],o=n-t,d=l,v=0,g=0,z=0,u=0;return this.legendItems.forEach((p,f)=>{let{itemWidth:m,itemHeight:x}=A9(a,c,r,p,i);f>0&&g+x+2*l>o&&(d+=v+l,s.push({width:v,height:g}),z+=v+l,u++,v=g=0),h[f]={left:z,top:g,col:u,width:m,height:x},v=Math.max(v,m),g+=x+l}),d+=v,s.push({width:v,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:c,options:{align:a,labels:{padding:i},rtl:r}}=this,n=j1(r,this.left,this.width);if(this.isHorizontal()){let l=0,h=q(a,this.left+i,this.right-this.lineWidths[l]);for(let s of c)l!==s.row&&(l=s.row,h=q(a,this.left+i,this.right-this.lineWidths[l])),s.top+=this.top+t+i,s.left=n.leftForLtr(n.x(h),s.width),h+=s.width+i}else{let l=0,h=q(a,this.top+t+i,this.bottom-this.columnSizes[l].height);for(let s of c)s.col!==l&&(l=s.col,h=q(a,this.top+t+i,this.bottom-this.columnSizes[l].height)),s.top=h,s.left+=this.left+i,s.left=n.leftForLtr(n.x(s.left),s.width),h+=s.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;v4(t,this),this._draw(),g4(t)}}_draw(){let{options:t,columnSizes:c,lineWidths:a,ctx:i}=this,{align:r,labels:n}=t,l=T.color,h=j1(t.rtl,this.left,this.width),s=Z(n.font),{padding:o}=n,d=s.size,v=d/2,g;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=s.string;let{boxWidth:z,boxHeight:u,itemHeight:p}=L0(n,d),f=function(C,w,V){if(isNaN(z)||z<=0||isNaN(u)||u<0)return;i.save();let L=S(V.lineWidth,1);if(i.fillStyle=S(V.fillStyle,l),i.lineCap=S(V.lineCap,"butt"),i.lineDashOffset=S(V.lineDashOffset,0),i.lineJoin=S(V.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=S(V.strokeStyle,l),i.setLineDash(S(V.lineDash,[])),n.usePointStyle){let k={radius:u*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:L},F=h.xPlus(C,z/2),A=w+v;d3(i,k,F,A,n.pointStyleWidth&&z)}else{let k=w+Math.max((d-u)/2,0),F=h.leftForLtr(C,z),A=_1(V.borderRadius);i.beginPath(),Object.values(A).some(K=>K!==0)?n2(i,{x:F,y:k,w:z,h:u,radius:A}):i.rect(F,k,z,u),i.fill(),L!==0&&i.stroke()}i.restore()},m=function(C,w,V){A1(i,V.text,C,w+p/2,s,{strikethrough:V.hidden,textAlign:h.textAlign(V.textAlign)})},x=this.isHorizontal(),H=this._computeTitleHeight();x?g={x:q(r,this.left+o,this.right-a[0]),y:this.top+o+H,line:0}:g={x:this.left+o,y:q(r,this.top+H+o,this.bottom-c[0].height),line:0},x3(this.ctx,t.textDirection);let M=p+o;this.legendItems.forEach((C,w)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;let V=i.measureText(C.text).width,L=h.textAlign(C.textAlign||(C.textAlign=n.textAlign)),k=z+v+V,F=g.x,A=g.y;h.setWidth(this.width),x?w>0&&F+k+o>this.right&&(A=g.y+=M,g.line++,F=g.x=q(r,this.left+o,this.right-a[g.line])):w>0&&A+M>this.bottom&&(F=g.x=F+c[g.line].width+o,g.line++,A=g.y=q(r,this.top+H+o,this.bottom-c[g.line].height));let K=h.x(F);if(f(K,A,C),F=I6(L,F+z+v,x?F+k:this.right,t.rtl),m(h.x(F),A,C),x)g.x+=k+o;else if(typeof C.text!="string"){let d1=s.lineHeight;g.y+=J0(C,d1)+o}else g.y+=M}),M3(this.ctx,t.textDirection)}drawTitle(){let t=this.options,c=t.title,a=Z(c.font),i=Y(c.padding);if(!c.display)return;let r=j1(t.rtl,this.left,this.width),n=this.ctx,l=c.position,h=a.size/2,s=i.top+h,o,d=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),o=this.top+s,d=q(t.align,d,this.right-v);else{let z=this.columnSizes.reduce((u,p)=>Math.max(u,p.height),0);o=s+q(t.align,this.top,this.bottom-z-t.labels.padding-this._computeTitleHeight())}let g=q(l,d,d+v);n.textAlign=r.textAlign(s4(l)),n.textBaseline="middle",n.strokeStyle=c.color,n.fillStyle=c.color,n.font=a.string,A1(n,c.text,g,o,a)}_computeTitleHeight(){let t=this.options.title,c=Z(t.font),a=Y(t.padding);return t.display?c.lineHeight+a.height:0}_getLegendItemAt(t,c){let a,i,r;if(N1(t,this.left,this.right)&&N1(c,this.top,this.bottom)){for(r=this.legendHitBoxes,a=0;a<r.length;++a)if(i=r[a],N1(t,i.left,i.left+i.width)&&N1(c,i.top,i.top+i.height))return this.legendItems[a]}return null}handleEvent(t){let c=this.options;if(!P9(t.type,c))return;let a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let i=this._hoveredItem,r=y9(i,a);i&&!r&&P(c.onLeave,[t,i,this],this),this._hoveredItem=a,a&&!r&&P(c.onHover,[t,a,this],this)}else a&&P(c.onClick,[t,a,this],this)}};function A9(e,t,c,a,i){let r=_9(a,e,t,c),n=k9(i,a,t.lineHeight);return{itemWidth:r,itemHeight:n}}function _9(e,t,c,a){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,n)=>r.length>n.length?r:n)),t+c.size/2+a.measureText(i).width}function k9(e,t,c){let a=e;return typeof t.text!="string"&&(a=J0(t,c)),a}function J0(e,t){let c=e.text?e.text.length:0;return t*c}function P9(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Q0={id:"legend",_element:y4,start(e,t,c){let a=e.legend=new y4({ctx:e.ctx,options:c,chart:e});s1.configure(e,a,c),s1.addBox(e,a)},stop(e){s1.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,c){let a=e.legend;s1.configure(e,a,c),a.options=c},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,c){let a=t.datasetIndex,i=c.chart;i.isDatasetVisible(a)?(i.hide(a),t.hidden=!0):(i.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:c,pointStyle:a,textAlign:i,color:r,useBorderRadius:n,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{let s=h.controller.getStyle(c?0:void 0),o=Y(s.borderWidth);return{text:t[h.index].label,fillStyle:s.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(o.width+o.height)/4,strokeStyle:s.borderColor,pointStyle:a||s.pointStyle,rotation:s.rotation,textAlign:i||s.textAlign,borderRadius:n&&(l||s.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},A4=class extends z1{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,c){let a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=c;let i=D(a.text)?a.text.length:1;this._padding=Y(a.padding);let r=i*Z(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:c,left:a,bottom:i,right:r,options:n}=this,l=n.align,h=0,s,o,d;return this.isHorizontal()?(o=q(l,a,r),d=c+t,s=r-a):(n.position==="left"?(o=a+t,d=q(l,i,c),h=I*-.5):(o=r-t,d=q(l,c,i),h=I*.5),s=i-c),{titleX:o,titleY:d,maxWidth:s,rotation:h}}draw(){let t=this.ctx,c=this.options;if(!c.display)return;let a=Z(c.font),r=a.lineHeight/2+this._padding.top,{titleX:n,titleY:l,maxWidth:h,rotation:s}=this._drawArgs(r);A1(t,c.text,0,0,a,{color:c.color,maxWidth:h,rotation:s,textAlign:s4(c.align),textBaseline:"middle",translation:[n,l]})}};function D9(e,t){let c=new A4({ctx:e.ctx,options:t,chart:e});s1.configure(e,c,t),s1.addBox(e,c),e.titleBlock=c}var t8={id:"title",_element:A4,start(e,t,c){D9(e,c)},stop(e){let t=e.titleBlock;s1.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,c){let a=e.titleBlock;s1.configure(e,a,c),a.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};var k2={average(e){if(!e.length)return!1;let t,c,a=new Set,i=0,r=0;for(t=0,c=e.length;t<c;++t){let l=e[t].element;if(l&&l.hasValue()){let h=l.tooltipPosition();a.add(h.x),i+=h.y,++r}}return r===0||a.size===0?!1:{x:[...a].reduce((l,h)=>l+h)/a.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let c=t.x,a=t.y,i=Number.POSITIVE_INFINITY,r,n,l;for(r=0,n=e.length;r<n;++r){let h=e[r].element;if(h&&h.hasValue()){let s=h.getCenterPoint(),o=_6(t,s);o<i&&(i=o,l=h)}}if(l){let h=l.tooltipPosition();c=h.x,a=h.y}return{x:c,y:a}}};function u1(e,t){return t&&(D(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function V1(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function R9(e,t){let{element:c,datasetIndex:a,index:i}=t,r=e.getDatasetMeta(a).controller,{label:n,value:l}=r.getLabelAndValue(i);return{chart:e,label:n,parsed:r.getParsed(i),raw:e.data.datasets[a].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:a,element:c}}function F0(e,t){let c=e.chart.ctx,{body:a,footer:i,title:r}=e,{boxWidth:n,boxHeight:l}=t,h=Z(t.bodyFont),s=Z(t.titleFont),o=Z(t.footerFont),d=r.length,v=i.length,g=a.length,z=Y(t.padding),u=z.height,p=0,f=a.reduce((H,M)=>H+M.before.length+M.lines.length+M.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,d&&(u+=d*s.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),f){let H=t.displayColors?Math.max(l,h.lineHeight):h.lineHeight;u+=g*H+(f-g)*h.lineHeight+(f-1)*t.bodySpacing}v&&(u+=t.footerMarginTop+v*o.lineHeight+(v-1)*t.footerSpacing);let m=0,x=function(H){p=Math.max(p,c.measureText(H).width+m)};return c.save(),c.font=s.string,_(e.title,x),c.font=h.string,_(e.beforeBody.concat(e.afterBody),x),m=t.displayColors?n+2+t.boxPadding:0,_(a,H=>{_(H.before,x),_(H.lines,x),_(H.after,x)}),m=0,c.font=o.string,_(e.footer,x),c.restore(),p+=z.width,{width:p,height:u}}function T9(e,t){let{y:c,height:a}=t;return c<a/2?"top":c>e.height-a/2?"bottom":"center"}function O9(e,t,c,a){let{x:i,width:r}=a,n=c.caretSize+c.caretPadding;if(e==="left"&&i+r+n>t.width||e==="right"&&i-r-n<0)return!0}function E9(e,t,c,a){let{x:i,width:r}=c,{width:n,chartArea:{left:l,right:h}}=e,s="center";return a==="center"?s=i<=(l+h)/2?"left":"right":i<=r/2?s="left":i>=n-r/2&&(s="right"),O9(s,e,t,c)&&(s="center"),s}function b0(e,t,c){let a=c.yAlign||t.yAlign||T9(e,c);return{xAlign:c.xAlign||t.xAlign||E9(e,t,c,a),yAlign:a}}function I9(e,t){let{x:c,width:a}=e;return t==="right"?c-=a:t==="center"&&(c-=a/2),c}function Z9(e,t,c){let{y:a,height:i}=e;return t==="top"?a+=c:t==="bottom"?a-=i+c:a-=i/2,a}function B0(e,t,c,a){let{caretSize:i,caretPadding:r,cornerRadius:n}=e,{xAlign:l,yAlign:h}=c,s=i+r,{topLeft:o,topRight:d,bottomLeft:v,bottomRight:g}=_1(n),z=I9(t,l),u=Z9(t,h,s);return h==="center"?l==="left"?z+=s:l==="right"&&(z-=s):l==="left"?z-=Math.max(o,v)+i:l==="right"&&(z+=Math.max(d,g)+i),{x:h1(z,0,a.width-t.width),y:h1(u,0,a.height-t.height)}}function H4(e,t,c){let a=Y(c.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-a.right:e.x+a.left}function S0(e){return u1([],V1(e))}function N9(e,t,c){return k1(e,{tooltip:t,tooltipItems:c,type:"tooltip"})}function y0(e,t){let c=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return c?e.override(c):e}var c8={beforeTitle:g1,title(e){if(e.length>0){let t=e[0],c=t.chart.data.labels,a=c?c.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return c[t.dataIndex]}return""},afterTitle:g1,beforeBody:g1,beforeLabel:g1,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let c=e.formattedValue;return y(c)||(t+=c),t},labelColor(e){let c=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let c=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:g1,afterBody:g1,beforeFooter:g1,footer:g1,afterFooter:g1};function e1(e,t,c,a){let i=e[t].call(c,a);return typeof i>"u"?c8[t].call(c,a):i}var P2=class extends z1{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let c=this.chart,a=this.options.setContext(this.getContext()),i=a.enabled&&c.options.animation&&a.animations,r=new b4(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=N9(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,c){let{callbacks:a}=c,i=e1(a,"beforeTitle",this,t),r=e1(a,"title",this,t),n=e1(a,"afterTitle",this,t),l=[];return l=u1(l,V1(i)),l=u1(l,V1(r)),l=u1(l,V1(n)),l}getBeforeBody(t,c){return S0(e1(c.callbacks,"beforeBody",this,t))}getBody(t,c){let{callbacks:a}=c,i=[];return _(t,r=>{let n={before:[],lines:[],after:[]},l=y0(a,r);u1(n.before,V1(e1(l,"beforeLabel",this,r))),u1(n.lines,e1(l,"label",this,r)),u1(n.after,V1(e1(l,"afterLabel",this,r))),i.push(n)}),i}getAfterBody(t,c){return S0(e1(c.callbacks,"afterBody",this,t))}getFooter(t,c){let{callbacks:a}=c,i=e1(a,"beforeFooter",this,t),r=e1(a,"footer",this,t),n=e1(a,"afterFooter",this,t),l=[];return l=u1(l,V1(i)),l=u1(l,V1(r)),l=u1(l,V1(n)),l}_createItems(t){let c=this._active,a=this.chart.data,i=[],r=[],n=[],l=[],h,s;for(h=0,s=c.length;h<s;++h)l.push(R9(this.chart,c[h]));return t.filter&&(l=l.filter((o,d,v)=>t.filter(o,d,v,a))),t.itemSort&&(l=l.sort((o,d)=>t.itemSort(o,d,a))),_(l,o=>{let d=y0(t.callbacks,o);i.push(e1(d,"labelColor",this,o)),r.push(e1(d,"labelPointStyle",this,o)),n.push(e1(d,"labelTextColor",this,o))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=n,this.dataPoints=l,l}update(t,c){let a=this.options.setContext(this.getContext()),i=this._active,r,n=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{let l=k2[a.position].call(this,i,this._eventPosition);n=this._createItems(a),this.title=this.getTitle(n,a),this.beforeBody=this.getBeforeBody(n,a),this.body=this.getBody(n,a),this.afterBody=this.getAfterBody(n,a),this.footer=this.getFooter(n,a);let h=this._size=F0(this,a),s=Object.assign({},l,h),o=b0(this.chart,a,s),d=B0(a,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:d.x,y:d.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}this._tooltipItems=n,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(t,c,a,i){let r=this.getCaretPosition(t,a,i);c.lineTo(r.x1,r.y1),c.lineTo(r.x2,r.y2),c.lineTo(r.x3,r.y3)}getCaretPosition(t,c,a){let{xAlign:i,yAlign:r}=this,{caretSize:n,cornerRadius:l}=a,{topLeft:h,topRight:s,bottomLeft:o,bottomRight:d}=_1(l),{x:v,y:g}=t,{width:z,height:u}=c,p,f,m,x,H,M;return r==="center"?(H=g+u/2,i==="left"?(p=v,f=p-n,x=H+n,M=H-n):(p=v+z,f=p+n,x=H-n,M=H+n),m=p):(i==="left"?f=v+Math.max(h,o)+n:i==="right"?f=v+z-Math.max(s,d)-n:f=this.caretX,r==="top"?(x=g,H=x-n,p=f-n,m=f+n):(x=g+u,H=x+n,p=f+n,m=f-n),M=x),{x1:p,x2:f,x3:m,y1:x,y2:H,y3:M}}drawTitle(t,c,a){let i=this.title,r=i.length,n,l,h;if(r){let s=j1(a.rtl,this.x,this.width);for(t.x=H4(this,a.titleAlign,a),c.textAlign=s.textAlign(a.titleAlign),c.textBaseline="middle",n=Z(a.titleFont),l=a.titleSpacing,c.fillStyle=a.titleColor,c.font=n.string,h=0;h<r;++h)c.fillText(i[h],s.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+l,h+1===r&&(t.y+=a.titleMarginBottom-l)}}_drawColorBox(t,c,a,i,r){let n=this.labelColors[a],l=this.labelPointStyles[a],{boxHeight:h,boxWidth:s}=r,o=Z(r.bodyFont),d=H4(this,"left",r),v=i.x(d),g=h<o.lineHeight?(o.lineHeight-h)/2:0,z=c.y+g;if(r.usePointStyle){let u={radius:Math.min(s,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=i.leftForLtr(v,s)+s/2,f=z+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,o3(t,u,p,f),t.strokeStyle=n.borderColor,t.fillStyle=n.backgroundColor,o3(t,u,p,f)}else{t.lineWidth=B(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,t.strokeStyle=n.borderColor,t.setLineDash(n.borderDash||[]),t.lineDashOffset=n.borderDashOffset||0;let u=i.leftForLtr(v,s),p=i.leftForLtr(i.xPlus(v,1),s-2),f=_1(n.borderRadius);Object.values(f).some(m=>m!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,n2(t,{x:u,y:z,w:s,h,radius:f}),t.fill(),t.stroke(),t.fillStyle=n.backgroundColor,t.beginPath(),n2(t,{x:p,y:z+1,w:s-2,h:h-2,radius:f}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(u,z,s,h),t.strokeRect(u,z,s,h),t.fillStyle=n.backgroundColor,t.fillRect(p,z+1,s-2,h-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,c,a){let{body:i}=this,{bodySpacing:r,bodyAlign:n,displayColors:l,boxHeight:h,boxWidth:s,boxPadding:o}=a,d=Z(a.bodyFont),v=d.lineHeight,g=0,z=j1(a.rtl,this.x,this.width),u=function(V){c.fillText(V,z.x(t.x+g),t.y+v/2),t.y+=v+r},p=z.textAlign(n),f,m,x,H,M,C,w;for(c.textAlign=n,c.textBaseline="middle",c.font=d.string,t.x=H4(this,p,a),c.fillStyle=a.bodyColor,_(this.beforeBody,u),g=l&&p!=="right"?n==="center"?s/2+o:s+2+o:0,H=0,C=i.length;H<C;++H){for(f=i[H],m=this.labelTextColors[H],c.fillStyle=m,_(f.before,u),x=f.lines,l&&x.length&&(this._drawColorBox(c,t,H,z,a),v=Math.max(d.lineHeight,h)),M=0,w=x.length;M<w;++M)u(x[M]),v=d.lineHeight;_(f.after,u)}g=0,v=d.lineHeight,_(this.afterBody,u),t.y-=r}drawFooter(t,c,a){let i=this.footer,r=i.length,n,l;if(r){let h=j1(a.rtl,this.x,this.width);for(t.x=H4(this,a.footerAlign,a),t.y+=a.footerMarginTop,c.textAlign=h.textAlign(a.footerAlign),c.textBaseline="middle",n=Z(a.footerFont),c.fillStyle=a.footerColor,c.font=n.string,l=0;l<r;++l)c.fillText(i[l],h.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+a.footerSpacing}}drawBackground(t,c,a,i){let{xAlign:r,yAlign:n}=this,{x:l,y:h}=t,{width:s,height:o}=a,{topLeft:d,topRight:v,bottomLeft:g,bottomRight:z}=_1(i.cornerRadius);c.fillStyle=i.backgroundColor,c.strokeStyle=i.borderColor,c.lineWidth=i.borderWidth,c.beginPath(),c.moveTo(l+d,h),n==="top"&&this.drawCaret(t,c,a,i),c.lineTo(l+s-v,h),c.quadraticCurveTo(l+s,h,l+s,h+v),n==="center"&&r==="right"&&this.drawCaret(t,c,a,i),c.lineTo(l+s,h+o-z),c.quadraticCurveTo(l+s,h+o,l+s-z,h+o),n==="bottom"&&this.drawCaret(t,c,a,i),c.lineTo(l+g,h+o),c.quadraticCurveTo(l,h+o,l,h+o-g),n==="center"&&r==="left"&&this.drawCaret(t,c,a,i),c.lineTo(l,h+d),c.quadraticCurveTo(l,h,l+d,h),c.closePath(),c.fill(),i.borderWidth>0&&c.stroke()}_updateAnimationTarget(t){let c=this.chart,a=this.$animations,i=a&&a.x,r=a&&a.y;if(i||r){let n=k2[t.position].call(this,this._active,this._eventPosition);if(!n)return;let l=this._size=F0(this,t),h=Object.assign({},n,this._size),s=b0(c,t,h),o=B0(t,h,s,c);(i._to!==o.x||r._to!==o.y)&&(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=l.width,this.height=l.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(t){let c=this.options.setContext(this.getContext()),a=this.opacity;if(!a)return;this._updateAnimationTarget(c);let i={width:this.width,height:this.height},r={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;let n=Y(c.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;c.enabled&&l&&(t.save(),t.globalAlpha=a,this.drawBackground(r,t,i,c),x3(t,c.textDirection),r.y+=n.top,this.drawTitle(r,t,c),this.drawBody(r,t,c),this.drawFooter(r,t,c),M3(t,c.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,c){let a=this._active,i=t.map(({datasetIndex:l,index:h})=>{let s=this.chart.getDatasetMeta(l);if(!s)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:s.data[h],index:h}}),r=!C2(a,i),n=this._positionChanged(i,c);(r||n)&&(this._active=i,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,c,a=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,r=this._active||[],n=this._getActiveElements(t,r,c,a),l=this._positionChanged(n,t),h=c||!C2(n,r)||l;return h&&(this._active=n,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,c))),h}_getActiveElements(t,c,a,i){let r=this.options;if(t.type==="mouseout")return[];if(!i)return c.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let n=this.chart.getElementsAtEventForMode(t,r.mode,r,a);return r.reverse&&n.reverse(),n}_positionChanged(t,c){let{caretX:a,caretY:i,options:r}=this,n=k2[r.position].call(this,t,c);return n!==!1&&(a!==n.x||i!==n.y)}};b(P2,"positioners",k2);var e8={id:"tooltip",_element:P2,positioners:k2,afterInit(e,t,c){c&&(e.tooltip=new P2({chart:e,options:c}))},beforeUpdate(e,t,c){e.tooltip&&e.tooltip.initialize(c)},reset(e,t,c){e.tooltip&&e.tooltip.initialize(c)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let c={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",c)}},afterEvent(e,t){if(e.tooltip){let c=t.replay;e.tooltip.handleEvent(t.event,c,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:c8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var W9=(e,t,c,a)=>(typeof t=="string"?(c=e.push(t)-1,a.unshift({index:c,label:t})):isNaN(t)&&(c=null),c);function j9(e,t,c,a){let i=e.indexOf(t);if(i===-1)return W9(e,t,c,a);let r=e.lastIndexOf(t);return i!==r?c:i}var U9=(e,t)=>e===null?null:h1(Math.round(e),0,t);function A0(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var s2=class extends w1{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let c=this._addedLabels;if(c.length){let a=this.getLabels();for(let{index:i,label:r}of c)a[i]===r&&a.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,c){if(y(t))return null;let a=this.getLabels();return c=isFinite(c)&&a[c]===t?c:j9(a,t,S(c,t),this._addedLabels),U9(c,a.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:c}=this.getUserBounds(),{min:a,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),c||(i=this.getLabels().length-1)),this.min=a,this.max=i}buildTicks(){let t=this.min,c=this.max,a=this.options.offset,i=[],r=this.getLabels();r=t===0&&c===r.length-1?r:r.slice(t,c+1),this._valueRange=Math.max(r.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let n=t;n<=c;n++)i.push({value:n});return i}getLabelForValue(t){return A0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let c=this.ticks;return t<0||t>c.length-1?null:this.getPixelForValue(c[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};b(s2,"id","category"),b(s2,"defaults",{ticks:{callback:A0}});function G9(e,t){let c=[],{bounds:i,step:r,min:n,max:l,precision:h,count:s,maxTicks:o,maxDigits:d,includeBounds:v}=e,g=r||1,z=o-1,{min:u,max:p}=t,f=!y(n),m=!y(l),x=!y(s),H=(p-u)/(d+1),M=c3((p-u)/z/g)*g,C,w,V,L;if(M<1e-14&&!f&&!m)return[{value:u},{value:p}];L=Math.ceil(p/M)-Math.floor(u/M),L>z&&(M=c3(L*M/z/g)*g),y(h)||(C=Math.pow(10,h),M=Math.ceil(M*C)/C),i==="ticks"?(w=Math.floor(u/M)*M,V=Math.ceil(p/M)*M):(w=u,V=p),f&&m&&r&&y6((l-n)/r,M/1e3)?(L=Math.round(Math.min((l-n)/M,o)),M=(l-n)/L,w=n,V=l):x?(w=f?n:w,V=m?l:V,L=s-1,M=(V-w)/L):(L=(V-w)/M,V2(L,Math.round(L),M/1e3)?L=Math.round(L):L=Math.ceil(L));let k=Math.max(a3(M),a3(w));C=Math.pow(10,y(h)?k:h),w=Math.round(w*C)/C,V=Math.round(V*C)/C;let F=0;for(f&&(v&&w!==n?(c.push({value:n}),w<n&&F++,V2(Math.round((w+F*M)*C)/C,n,_0(n,H,e))&&F++):w<n&&F++);F<L;++F){let A=Math.round((w+F*M)*C)/C;if(m&&A>l)break;c.push({value:A})}return m&&v&&V!==l?c.length&&V2(c[c.length-1].value,l,_0(l,H,e))?c[c.length-1].value=l:c.push({value:l}):(!m||V===l)&&c.push({value:V}),c}function _0(e,t,{horizontal:c,minRotation:a}){let i=H1(a),r=(c?Math.sin(i):Math.cos(i))||.001,n=.75*t*(""+e).length;return Math.min(t/r,n)}var v2=class extends w1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,c){return y(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:c,maxDefined:a}=this.getUserBounds(),{min:i,max:r}=this,n=h=>i=c?i:h,l=h=>r=a?r:h;if(t){let h=M1(i),s=M1(r);h<0&&s<0?l(0):h>0&&s>0&&n(0)}if(i===r){let h=r===0?1:Math.abs(r*.05);l(r+h),t||n(i-h)}this.min=i,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:c,stepSize:a}=t,i;return a?(i=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),c=c||11),c&&(i=Math.min(c,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,c=t.ticks,a=this.getTickLimit();a=Math.max(2,a);let i={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:c.precision,step:c.stepSize,count:c.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:c.minRotation||0,includeBounds:c.includeBounds!==!1},r=this._range||this,n=G9(i,r);return t.bounds==="ticks"&&e3(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){let t=this.ticks,c=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){let i=(a-c)/Math.max(t.length-1,1)/2;c-=i,a+=i}this._startValue=c,this._endValue=a,this._valueRange=a-c}getLabelForValue(t){return o4(t,this.chart.options.locale,this.options.ticks.format)}},o2=class extends v2{determineDataLimits(){let{min:t,max:c}=this.getMinMax(!0);this.min=W(t)?t:0,this.max=W(c)?c:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),c=t?this.width:this.height,a=H1(this.options.ticks.minRotation),i=(t?Math.sin(a):Math.cos(a))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(c/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};b(o2,"id","linear"),b(o2,"defaults",{ticks:{callback:L2.formatters.numeric}});var T2=e=>Math.floor(x1(e)),G1=(e,t)=>Math.pow(10,T2(e)+t);function k0(e){return e/Math.pow(10,T2(e))===1}function P0(e,t,c){let a=Math.pow(10,c),i=Math.floor(e/a);return Math.ceil(t/a)-i}function q9(e,t){let c=t-e,a=T2(c);for(;P0(e,t,a)>10;)a++;for(;P0(e,t,a)<10;)a--;return Math.min(a,T2(e))}function Y9(e,{min:t,max:c}){t=c1(e.min,t);let a=[],i=T2(t),r=q9(t,c),n=r<0?Math.pow(10,Math.abs(r)):1,l=Math.pow(10,r),h=i>r?Math.pow(10,i):0,s=Math.round((t-h)*n)/n,o=Math.floor((t-h)/l/10)*l*10,d=Math.floor((s-o)/Math.pow(10,r)),v=c1(e.min,Math.round((h+o+d*Math.pow(10,r))*n)/n);for(;v<c;)a.push({value:v,major:k0(v),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,n=r>=0?1:n),v=Math.round((h+o+d*Math.pow(10,r))*n)/n;let g=c1(e.max,v);return a.push({value:g,major:k0(g),significand:d}),a}var C4=class extends w1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,c){let a=v2.prototype.parse.apply(this,[t,c]);if(a===0){this._zero=!0;return}return W(a)&&a>0?a:null}determineDataLimits(){let{min:t,max:c}=this.getMinMax(!0);this.min=W(t)?Math.max(0,t):null,this.max=W(c)?Math.max(0,c):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!W(this._userMin)&&(this.min=t===G1(this.min,0)?G1(this.min,-1):G1(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:c}=this.getUserBounds(),a=this.min,i=this.max,r=l=>a=t?a:l,n=l=>i=c?i:l;a===i&&(a<=0?(r(1),n(10)):(r(G1(a,-1)),n(G1(i,1)))),a<=0&&r(G1(i,-1)),i<=0&&n(G1(a,1)),this.min=a,this.max=i}buildTicks(){let t=this.options,c={min:this._userMin,max:this._userMax},a=Y9(c,this);return t.bounds==="ticks"&&e3(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(t){return t===void 0?"0":o4(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=x1(t),this._valueRange=x1(this.max)-x1(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(x1(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let c=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+c*this._valueRange)}};b(C4,"id","logarithmic"),b(C4,"defaults",{ticks:{callback:L2.formatters.logarithmic,major:{enabled:!0}}});function E3(e){let t=e.ticks;if(t.display&&e.display){let c=Y(t.backdropPadding);return S(t.font&&t.font.size,T.font.size)+c.height}return 0}function $9(e,t,c){return c=D(c)?c:[c],{w:W6(e,t.string,c),h:c.length*t.lineHeight}}function D0(e,t,c,a,i){return e===a||e===i?{start:t-c/2,end:t+c/2}:e<a||e>i?{start:t-c,end:t}:{start:t,end:t+c}}function X9(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},c=Object.assign({},t),a=[],i=[],r=e._pointLabels.length,n=e.options.pointLabels,l=n.centerPointLabels?I/r:0;for(let h=0;h<r;h++){let s=n.setContext(e.getPointLabelContext(h));i[h]=s.padding;let o=e.getPointPosition(h,e.drawingArea+i[h],l),d=Z(s.font),v=$9(e.ctx,d,e._pointLabels[h]);a[h]=v;let g=o1(e.getIndexAngle(h)+l),z=Math.round(n4(g)),u=D0(z,o.x,v.w,0,180),p=D0(z,o.y,v.h,90,270);K9(c,t,g,u,p)}e.setCenterPoint(t.l-c.l,c.r-t.r,t.t-c.t,c.b-t.b),e._pointLabelItems=tt(e,a,i)}function K9(e,t,c,a,i){let r=Math.abs(Math.sin(c)),n=Math.abs(Math.cos(c)),l=0,h=0;a.start<t.l?(l=(t.l-a.start)/r,e.l=Math.min(e.l,t.l-l)):a.end>t.r&&(l=(a.end-t.r)/r,e.r=Math.max(e.r,t.r+l)),i.start<t.t?(h=(t.t-i.start)/n,e.t=Math.min(e.t,t.t-h)):i.end>t.b&&(h=(i.end-t.b)/n,e.b=Math.max(e.b,t.b+h))}function J9(e,t,c){let a=e.drawingArea,{extra:i,additionalAngle:r,padding:n,size:l}=c,h=e.getPointPosition(t,a+i+n,r),s=Math.round(n4(o1(h.angle+t1))),o=at(h.y,l.h,s),d=ct(s),v=et(h.x,l.w,d);return{visible:!0,x:h.x,y:o,textAlign:d,left:v,top:o,right:v+l.w,bottom:o+l.h}}function Q9(e,t){if(!t)return!0;let{left:c,top:a,right:i,bottom:r}=e;return!(W1({x:c,y:a},t)||W1({x:c,y:r},t)||W1({x:i,y:a},t)||W1({x:i,y:r},t))}function tt(e,t,c){let a=[],i=e._pointLabels.length,r=e.options,{centerPointLabels:n,display:l}=r.pointLabels,h={extra:E3(r)/2,additionalAngle:n?I/i:0},s;for(let o=0;o<i;o++){h.padding=c[o],h.size=t[o];let d=J9(e,o,h);a.push(d),l==="auto"&&(d.visible=Q9(d,s),d.visible&&(s=d))}return a}function ct(e){return e===0||e===180?"center":e<180?"left":"right"}function et(e,t,c){return c==="right"?e-=t:c==="center"&&(e-=t/2),e}function at(e,t,c){return c===90||c===270?e-=t/2:(c>270||c<90)&&(e-=t),e}function it(e,t,c){let{left:a,top:i,right:r,bottom:n}=c,{backdropColor:l}=t;if(!y(l)){let h=_1(t.borderRadius),s=Y(t.backdropPadding);e.fillStyle=l;let o=a-s.left,d=i-s.top,v=r-a+s.width,g=n-i+s.height;Object.values(h).some(z=>z!==0)?(e.beginPath(),n2(e,{x:o,y:d,w:v,h:g,radius:h}),e.fill()):e.fillRect(o,d,v,g)}}function rt(e,t){let{ctx:c,options:{pointLabels:a}}=e;for(let i=t-1;i>=0;i--){let r=e._pointLabelItems[i];if(!r.visible)continue;let n=a.setContext(e.getPointLabelContext(i));it(c,n,r);let l=Z(n.font),{x:h,y:s,textAlign:o}=r;A1(c,e._pointLabels[i],h,s+l.lineHeight/2,l,{color:n.color,textAlign:o,textBaseline:"middle"})}}function a8(e,t,c,a){let{ctx:i}=e;if(c)i.arc(e.xCenter,e.yCenter,t,0,l1);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let n=1;n<a;n++)r=e.getPointPosition(n,t),i.lineTo(r.x,r.y)}}function nt(e,t,c,a,i){let r=e.ctx,n=t.circular,{color:l,lineWidth:h}=t;!n&&!a||!l||!h||c<0||(r.save(),r.strokeStyle=l,r.lineWidth=h,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),a8(e,c,n,a),r.closePath(),r.stroke(),r.restore())}function lt(e,t,c){return k1(e,{label:c,index:t,type:"pointLabel"})}var l2=class extends v2{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Y(E3(this.options)/2),c=this.width=this.maxWidth-t.width,a=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+c/2+t.left),this.yCenter=Math.floor(this.top+a/2+t.top),this.drawingArea=Math.floor(Math.min(c,a)/2)}determineDataLimits(){let{min:t,max:c}=this.getMinMax(!1);this.min=W(t)&&!isNaN(t)?t:0,this.max=W(c)&&!isNaN(c)?c:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/E3(this.options))}generateTickLabels(t){v2.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((c,a)=>{let i=P(this.options.pointLabels.callback,[c,a],this);return i||i===0?i:""}).filter((c,a)=>this.chart.getDataVisibility(a))}fit(){let t=this.options;t.display&&t.pointLabels.display?X9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,c,a,i){this.xCenter+=Math.floor((t-c)/2),this.yCenter+=Math.floor((a-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,c,a,i))}getIndexAngle(t){let c=l1/(this._pointLabels.length||1),a=this.options.startAngle||0;return o1(t*c+H1(a))}getDistanceFromCenterForValue(t){if(y(t))return NaN;let c=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*c:(t-this.min)*c}getValueForDistanceFromCenter(t){if(y(t))return NaN;let c=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-c:this.min+c}getPointLabelContext(t){let c=this._pointLabels||[];if(t>=0&&t<c.length){let a=c[t];return lt(this.getContext(),t,a)}}getPointPosition(t,c,a=0){let i=this.getIndexAngle(t)-t1+a;return{x:Math.cos(i)*c+this.xCenter,y:Math.sin(i)*c+this.yCenter,angle:i}}getPointPositionForValue(t,c){return this.getPointPosition(t,this.getDistanceFromCenterForValue(c))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:c,top:a,right:i,bottom:r}=this._pointLabelItems[t];return{left:c,top:a,right:i,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:c}}=this.options;if(t){let a=this.ctx;a.save(),a.beginPath(),a8(this,this.getDistanceFromCenterForValue(this._endValue),c,this._pointLabels.length),a.closePath(),a.fillStyle=t,a.fill(),a.restore()}}drawGrid(){let t=this.ctx,c=this.options,{angleLines:a,grid:i,border:r}=c,n=this._pointLabels.length,l,h,s;if(c.pointLabels.display&&rt(this,n),i.display&&this.ticks.forEach((o,d)=>{if(d!==0||d===0&&this.min<0){h=this.getDistanceFromCenterForValue(o.value);let v=this.getContext(d),g=i.setContext(v),z=r.setContext(v);nt(this,g,h,n,z)}}),a.display){for(t.save(),l=n-1;l>=0;l--){let o=a.setContext(this.getPointLabelContext(l)),{color:d,lineWidth:v}=o;!v||!d||(t.lineWidth=v,t.strokeStyle=d,t.setLineDash(o.borderDash),t.lineDashOffset=o.borderDashOffset,h=this.getDistanceFromCenterForValue(c.reverse?this.min:this.max),s=this.getPointPosition(l,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(s.x,s.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,c=this.options,a=c.ticks;if(!a.display)return;let i=this.getIndexAngle(0),r,n;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,h)=>{if(h===0&&this.min>=0&&!c.reverse)return;let s=a.setContext(this.getContext(h)),o=Z(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),s.showLabelBackdrop){t.font=o.string,n=t.measureText(l.label).width,t.fillStyle=s.backdropColor;let d=Y(s.backdropPadding);t.fillRect(-n/2-d.left,-r-o.size/2-d.top,n+d.width,o.size+d.height)}A1(t,l.label,0,-r,o,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})}),t.restore()}drawTitle(){}};b(l2,"id","radialLinear"),b(l2,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:L2.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),b(l2,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),b(l2,"descriptors",{angleLines:{_fallback:"grid"}});var _4={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},i1=Object.keys(_4);function R0(e,t){return e-t}function T0(e,t){if(y(t))return null;let c=e._adapter,{parser:a,round:i,isoWeekday:r}=e._parseOpts,n=t;return typeof a=="function"&&(n=a(n)),W(n)||(n=typeof a=="string"?c.parse(n,a):c.parse(n)),n===null?null:(i&&(n=i==="week"&&(w2(r)||r===!0)?c.startOf(n,"isoWeek",r):c.startOf(n,i)),+n)}function O0(e,t,c,a){let i=i1.length;for(let r=i1.indexOf(e);r<i-1;++r){let n=_4[i1[r]],l=n.steps?n.steps:Number.MAX_SAFE_INTEGER;if(n.common&&Math.ceil((c-t)/(l*n.size))<=a)return i1[r]}return i1[i-1]}function ht(e,t,c,a,i){for(let r=i1.length-1;r>=i1.indexOf(c);r--){let n=i1[r];if(_4[n].common&&e._adapter.diff(i,a,n)>=t-1)return n}return i1[c?i1.indexOf(c):0]}function st(e){for(let t=i1.indexOf(e)+1,c=i1.length;t<c;++t)if(_4[i1[t]].common)return i1[t]}function E0(e,t,c){if(!c)e[t]=!0;else if(c.length){let{lo:a,hi:i}=l4(c,t),r=c[a]>=t?c[a]:c[i];e[r]=!0}}function ot(e,t,c,a){let i=e._adapter,r=+i.startOf(t[0].value,a),n=t[t.length-1].value,l,h;for(l=r;l<=n;l=+i.add(l,1,a))h=c[l],h>=0&&(t[h].major=!0);return t}function I0(e,t,c){let a=[],i={},r=t.length,n,l;for(n=0;n<r;++n)l=t[n],i[l]=n,a.push({value:l,major:!1});return r===0||!c?a:ot(e,a,i,c)}var d2=class extends w1{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,c={}){let a=t.time||(t.time={}),i=this._adapter=new H7._date(t.adapters.date);i.init(c),i2(a.displayFormats,i.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=c.normalized}parse(t,c){return t===void 0?null:T0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,c=this._adapter,a=t.time.unit||"day",{min:i,max:r,minDefined:n,maxDefined:l}=this.getUserBounds();function h(s){!n&&!isNaN(s.min)&&(i=Math.min(i,s.min)),!l&&!isNaN(s.max)&&(r=Math.max(r,s.max))}(!n||!l)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=W(i)&&!isNaN(i)?i:+c.startOf(Date.now(),a),r=W(r)&&!isNaN(r)?r:+c.endOf(Date.now(),a)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),c=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(c=t[0],a=t[t.length-1]),{min:c,max:a}}buildTicks(){let t=this.options,c=t.time,a=t.ticks,i=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let r=this.min,n=this.max,l=R6(i,r,n);return this._unit=c.unit||(a.autoSkip?O0(c.minUnit,this.min,this.max,this._getLabelCapacity(r)):ht(this,l.length,c.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:st(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),I0(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let c=0,a=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?c=1-i:c=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?a=r:a=(r-this.getDecimalForValue(t[t.length-2]))/2);let n=t.length<3?.5:.25;c=h1(c,0,n),a=h1(a,0,n),this._offsets={start:c,end:a,factor:1/(c+1+a)}}_generate(){let t=this._adapter,c=this.min,a=this.max,i=this.options,r=i.time,n=r.unit||O0(r.minUnit,c,a,this._getLabelCapacity(c)),l=S(i.ticks.stepSize,1),h=n==="week"?r.isoWeekday:!1,s=w2(h)||h===!0,o={},d=c,v,g;if(s&&(d=+t.startOf(d,"isoWeek",h)),d=+t.startOf(d,s?"day":n),t.diff(a,c,n)>1e5*l)throw new Error(c+" and "+a+" are too far apart with stepSize of "+l+" "+n);let z=i.ticks.source==="data"&&this.getDataTimestamps();for(v=d,g=0;v<a;v=+t.add(v,l,n),g++)E0(o,v,z);return(v===a||i.bounds==="ticks"||g===1)&&E0(o,v,z),Object.keys(o).sort(R0).map(u=>+u)}getLabelForValue(t){let c=this._adapter,a=this.options.time;return a.tooltipFormat?c.format(t,a.tooltipFormat):c.format(t,a.displayFormats.datetime)}format(t,c){let i=this.options.time.displayFormats,r=this._unit,n=c||i[r];return this._adapter.format(t,n)}_tickFormatFunction(t,c,a,i){let r=this.options,n=r.ticks.callback;if(n)return P(n,[t,c,a],this);let l=r.time.displayFormats,h=this._unit,s=this._majorUnit,o=h&&l[h],d=s&&l[s],v=a[c],g=s&&d&&v&&v.major;return this._adapter.format(t,i||(g?d:o))}generateTickLabels(t){let c,a,i;for(c=0,a=t.length;c<a;++c)i=t[c],i.label=this._tickFormatFunction(i.value,c,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let c=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((c.start+a)*c.factor)}getValueForPixel(t){let c=this._offsets,a=this.getDecimalForPixel(t)/c.factor-c.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){let c=this.options.ticks,a=this.ctx.measureText(t).width,i=H1(this.isHorizontal()?c.maxRotation:c.minRotation),r=Math.cos(i),n=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:a*r+l*n,h:a*n+l*r}}_getLabelCapacity(t){let c=this.options.time,a=c.displayFormats,i=a[c.unit]||a.millisecond,r=this._tickFormatFunction(t,0,I0(this,[t],this._majorUnit),i),n=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],c,a;if(t.length)return t;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(c=0,a=i.length;c<a;++c)t=t.concat(i[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],c,a;if(t.length)return t;let i=this.getLabels();for(c=0,a=i.length;c<a;++c)t.push(T0(this,i[c]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return r3(t.sort(R0))}};b(d2,"id","time"),b(d2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function V4(e,t,c){let a=0,i=e.length-1,r,n,l,h;c?(t>=e[a].pos&&t<=e[i].pos&&({lo:a,hi:i}=h4(e,"pos",t)),{pos:r,time:l}=e[a],{pos:n,time:h}=e[i]):(t>=e[a].time&&t<=e[i].time&&({lo:a,hi:i}=h4(e,"time",t)),{time:r,pos:l}=e[a],{time:n,pos:h}=e[i]);let s=n-r;return s?l+(h-l)*(t-r)/s:l}var w4=class extends d2{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),c=this._table=this.buildLookupTable(t);this._minPos=V4(c,this.min),this._tableRange=V4(c,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:c,max:a}=this,i=[],r=[],n,l,h,s,o;for(n=0,l=t.length;n<l;++n)s=t[n],s>=c&&s<=a&&i.push(s);if(i.length<2)return[{time:c,pos:0},{time:a,pos:1}];for(n=0,l=i.length;n<l;++n)o=i[n+1],h=i[n-1],s=i[n],Math.round((o+h)/2)!==s&&r.push({time:s,pos:n/(l-1)});return r}_generate(){let t=this.min,c=this.max,a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(c)||a.length===1)&&a.push(c),a.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let c=this.getDataTimestamps(),a=this.getLabelTimestamps();return c.length&&a.length?t=this.normalize(c.concat(a)):t=c.length?c:a,t=this._cache.all=t,t}getDecimalForValue(t){return(V4(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let c=this._offsets,a=this.getDecimalForPixel(t)/c.factor-c.end;return V4(this._table,a*this._tableRange+this._minPos,!0)}};b(w4,"id","timeseries"),b(w4,"defaults",d2.defaults);var X=R(v1(),1);var r8="label";function i8(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function dt(e,t){let c=e.options;c&&t&&Object.assign(c,t)}function n8(e,t){e.labels=t}function l8(e,t){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r8,a=[];e.datasets=t.map(i=>{let r=e.datasets.find(n=>n[c]===i[c]);return!r||!i.data||a.includes(r)?{...i}:(a.push(r),Object.assign(r,i),r)})}function vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r8,c={labels:[],datasets:[]};return n8(c,e.labels),l8(c,e.datasets,t),c}function gt(e,t){let{height:c=150,width:a=300,redraw:i=!1,datasetIdKey:r,type:n,data:l,options:h,plugins:s=[],fallbackContent:o,updateMode:d,...v}=e,g=(0,X.useRef)(null),z=(0,X.useRef)(null),u=()=>{g.current&&(z.current=new a1(g.current,{type:n,data:vt(l,r),options:h&&{...h},plugins:s}),i8(t,z.current))},p=()=>{i8(t,null),z.current&&(z.current.destroy(),z.current=null)};return(0,X.useEffect)(()=>{!i&&z.current&&h&&dt(z.current,h)},[i,h]),(0,X.useEffect)(()=>{!i&&z.current&&n8(z.current.config.data,l.labels)},[i,l.labels]),(0,X.useEffect)(()=>{!i&&z.current&&l.datasets&&l8(z.current.config.data,l.datasets,r)},[i,l.datasets]),(0,X.useEffect)(()=>{z.current&&(i?(p(),setTimeout(u)):z.current.update(d))},[i,h,l.labels,l.datasets,d]),(0,X.useEffect)(()=>{z.current&&(p(),setTimeout(u))},[n]),(0,X.useEffect)(()=>(u(),()=>p()),[]),X.default.createElement("canvas",{ref:g,role:"img",height:c,width:a,...v},o)}var ut=(0,X.forwardRef)(gt);function pt(e,t){return a1.register(t),(0,X.forwardRef)((c,a)=>X.default.createElement(ut,{...c,ref:a,type:e}))}var h8=pt("bar",Y1);var s8=R(J());a1.register(s2,o2,$1,t8,e8,Q0);function I3(){let e=G(a=>a.goals),t={labels:e.map(a=>a.title),datasets:[{label:"Progress",data:e.map(a=>a.progress()),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]};return(0,s8.jsx)(h8,{data:t,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Goal Progress"}}}})}var o8=R(v1());function Z3(){let e=G(t=>t.goals);return(0,o8.useEffect)(()=>{e.forEach(t=>{t.isOverdue()&&!t.completed&&alert(`Deadline for "${t.title}" is overdue!`)})},[e]),null}var $=R(J());function v8(){let e=G(r=>r.resetRepeatingGoals),t=G(r=>r.goals),c=G(r=>r.importGoals);return(0,d8.useEffect)(()=>{let r=setInterval(()=>{e()},864e5);return()=>clearInterval(r)},[e]),(0,$.jsx)("div",{className:"min-h-screen p-6",children:(0,$.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,$.jsxs)("header",{className:"flex justify-between items-center py-4 border-b-2 border-indigo-200 dark:border-indigo-800",children:[(0,$.jsx)("h1",{className:"text-4xl font-extrabold text-indigo-800 dark:text-indigo-200 tracking-wide",children:"StudyTracker"}),(0,$.jsx)(j4,{})]}),(0,$.jsxs)("main",{children:[(0,$.jsx)(O4,{}),(0,$.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,$.jsx)("button",{onClick:()=>{let r=JSON.stringify(t.map(s=>s.toJSON())),n=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(n),h=document.createElement("a");h.href=l,h.download="goals.json",h.click(),URL.revokeObjectURL(l)},className:"bg-green-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-green-700 transition-transform transform hover:scale-105",children:"Export Goals"}),(0,$.jsxs)("label",{className:"bg-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-purple-700 transition-transform transform hover:scale-105 cursor-pointer",children:["Import Goals",(0,$.jsx)("input",{type:"file",accept:".json",onChange:r=>{let n=r.target.files?.[0];if(n){let l=new FileReader;l.onload=h=>{try{let s=JSON.parse(h.target?.result);c(s),r.target.value=""}catch{alert("Ung\xFCltiges Dateiformat")}},l.readAsText(n)}},className:"hidden"})]})]}),(0,$.jsx)(U4,{}),(0,$.jsx)(I3,{}),(0,$.jsx)(W4,{}),(0,$.jsx)(Z3,{})]})]})})}export{v8 as default};
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.4
   * https://github.com/kurkle/color#readme
   * (c) 2024 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.dataset.js:
  (*!
   * Chart.js v4.4.9
   * https://www.chartjs.org
   * (c) 2025 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.9
   * https://www.chartjs.org
   * (c) 2025 Chart.js Contributors
   * Released under the MIT License
   *)
*/
